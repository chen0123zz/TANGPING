<!DOCTYPE html>
<html lang="zh-TW">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
Â  Â  <title>èººå¹³é‹å‹•æŒ‰æ‘© TANG PING - é ç´„å®˜ç¶²</title>
Â  Â  <link rel="icon" href="images/LOGO2.png" type="image/png">
Â  Â Â 
Â  Â  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
Â  Â  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

Â  Â  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
Â  Â  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

Â  Â  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
Â  Â Â 
Â  Â  <style>
Â  Â  Â  Â  /* ========================================= */
Â  Â  Â  Â  /* ğŸ¨ åŸºç¤æ¨£å¼ (ä¿ç•™ V25)Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  */
Â  Â  Â  Â  /* ========================================= */
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --brand-color: #efb748;
Â  Â  Â  Â  Â  Â  --bg-beige: #f9f5f0;
Â  Â  Â  Â  Â  Â  --text-dark: #333333;
Â  Â  Â  Â  Â  Â  --admin-bg: #f0f2f5;Â 
Â  Â  Â  Â  Â  Â  --admin-card: #ffffff;
Â  Â  Â  Â  Â  Â  --admin-text: #333333;
Â  Â  Â  Â  }
Â  Â  Â  Â  html { scroll-behavior: smooth; -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
Â  Â  Â  Â  body { font-family: 'Noto Sans TC', sans-serif; margin: 0; padding: 0; background-color: var(--bg-beige); color: var(--text-dark); }
Â  Â  Â  Â  section, .content-section { scroll-margin-top: 55px; }

Â  Â  Â  Â  /* --- å±€éƒ¨ Loading é®ç½© --- */
Â  Â  Â  Â  .local-loading-overlay {
Â  Â  Â  Â  Â  Â  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.9);Â 
Â  Â  Â  Â  Â  Â  z-index: 50;
Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column; justify-content: center; align-items: center;
Â  Â  Â  Â  Â  Â  transition: opacity 0.3s;
Â  Â  Â  Â  Â  Â  border-radius: 15px;Â 
Â  Â  Â  Â  Â  Â  display: none;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .spinner {
Â  Â  Â  Â  Â  Â  width: 40px; height: 40px; border: 4px solid #eee; border-top: 4px solid var(--brand-color);
Â  Â  Â  Â  Â  Â  border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
Â  Â  Â  Â  .loading-text { color: var(--brand-color); font-weight: bold; font-size: 0.95rem; }

/* ========================================= */
/* ğŸš€ å°è¦½åˆ—èˆ‡å´é‚Šé¸å–® - 120åˆ†å®Œç¾ä¿®æ­£ç‰ˆÂ  Â  Â  Â */
/* ========================================= */

/* --- 1. å…¨åŸŸ Header (é›»è…¦ç‰ˆé è¨­) --- */
header {
Â  Â  background-color: transparent;
Â  Â  padding: 15px 5%;
Â  Â  position: fixed;
Â  Â  top: 0; left: 0; width: 100%;
Â  Â  z-index: 2000;
Â  Â  transition: all 0.4s ease;
Â  Â  box-sizing: border-box;
}

header.scrolled {
Â  Â  background-color: rgba(255, 255, 255, 0.8) !important; /* é™ä½é€æ˜åº¦ */
Â  Â  backdrop-filter: blur(10px); /* å¢åŠ æ¯›ç»ç’ƒæ¨¡ç³Šæ„Ÿ */
Â  Â  -webkit-backdrop-filter: blur(10px); /* ç›¸å®¹ Safari */
Â  Â  padding: 10px 5%;
Â  Â  box-shadow: 0 2px 15px rgba(0,0,0,0.05);
}

/* ğŸ’¡ å·¦å³ä½µæ’çš„é—œéµï¼šå¼·åˆ¶ Flex */
.header-content {
Â  Â  width: 100%;
Â  Â  max-width: 1200px;
Â  Â  margin: 0 auto;
Â  Â  display: flex !important;
Â  Â  flex-direction: row !important;
Â  Â  justify-content: space-between !important;
Â  Â  align-items: center !important;
}

.logo-link { display: block; width: auto; flex-shrink: 0; text-decoration: none; }

.logo-img {
Â  Â  height: 50px; /* é›»è…¦ç‰ˆ LOGO å°ºå¯¸ */
Â  Â  width: auto;
Â  Â  display: block;
Â  Â  transition: 0.3s;
}

header.scrolled .logo-img { height: 40px; }

/* é›»è…¦ç‰ˆé¸å–®æ¨£å¼ */
.nav-menu { display: flex; align-items: center; }
.nav-menu a {
Â  Â  text-decoration: none !important;
Â  Â  color: #fff;Â 
Â  Â  margin-left: 25px;
Â  Â  font-weight: 500;
Â  Â  font-size: 1rem;
Â  Â  transition: 0.3s;
}
header.scrolled .nav-menu a { color: #333; }
.nav-menu a:hover { color: var(--brand-color) !important; }

/* æ¼¢å ¡æŒ‰éˆ•åœ–ç¤º */
.menu-toggle {
Â  Â  display: none;
Â  Â  flex-direction: column;
Â  Â  justify-content: space-between;
Â  Â  width: 28px; height: 18px;
Â  Â  cursor: pointer;
Â  Â  z-index: 2002;
}
.menu-toggle span {
Â  Â  display: block; width: 100%; height: 2px;
Â  Â  background-color: var(--brand-color);
Â  Â  transition: 0.3s;
}

/* --- 2. ğŸ“± æ‰‹æ©Ÿç‰ˆå°ˆå±¬ä¿®æ­£ (å¼·åˆ¶è¦†è“‹) --- */
@media (max-width: 768px) {
    body { padding-top: 0 !important; }

    /* ğŸ’¡ 1. è®“æ‰‹æ©Ÿç‰ˆ Header åˆå§‹ç‹€æ…‹é€æ˜ */
    header { 
        background-color: transparent !important; /* å¼·åˆ¶åˆå§‹é€æ˜ */
        box-shadow: none !important;
        padding: 15px 20px !important;
        transition: background-color 0.4s ease, padding 0.4s ease !important;
        backdrop-filter: none !important; /* åˆå§‹ä¸è¦æ¨¡ç³Šï¼Œé¦–åœ–æ‰ä¹¾æ·¨ */
    }

    /* ğŸ’¡ 2. ç•¶æ‰‹æ©Ÿç‰ˆã€Œæ²å‹•å¾Œã€æˆ–ã€Œé¸å–®æ‰“é–‹å¾Œã€è®Šè‰² */
    header.scrolled, 
    header.menu-open {
        background-color: rgba(255, 255, 255, 0.98) !important;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1) !important;
        padding: 10px 20px !important;
        backdrop-filter: blur(10px) !important;
    }

    /* ğŸ’¡ 3. å¼·åˆ¶è®“æ¼¢å ¡é¸å–®é¡¯ç¾ (é¿å…éš±èº«) */
    .menu-toggle { 
        display: flex !important; 
        z-index: 2002 !important; 
    }
    .menu-toggle span { background-color: var(--brand-color) !important; }

    /* ğŸ’¡ 4. å·¦å³ä¸¦æ’ï¼šLOGO åœ¨å·¦ã€æ¼¢å ¡åœ¨å³ */
    .header-content { 
        flex-direction: row !important; 
        justify-content: space-between !important; 
        align-items: center !important;
        width: 100% !important;
    }

    .logo-img { height: 35px !important; transition: 0.3s !important; } 

    /* ğŸ’¡ 5. å³å´æ»‘å‡ºæŠ½å±œé¸å–®ç¶­æŒåŸæ¨£ */
    .nav-menu {
        position: fixed !important;
        top: 0 !important; right: 0 !important;
        width: 240px !important; height: 100vh !important;
        background: #fff !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: flex-start !important;
        padding-left: 40px !important;
        box-shadow: -5px 0 20px rgba(0,0,0,0.1) !important;
        transform: translateX(100%) !important; 
        transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1) !important;
        z-index: 2001;
    }
    .nav-menu.active { transform: translateX(0) !important; }
    .nav-menu a {
        color: #333 !important;
        font-size: 1.1rem !important;
        margin: 15px 0 !important;
        width: 100%;
        text-decoration: none !important;
    }

    /* ğŸ’¡ 6. æ¼¢å ¡è®Šå‰å‰å‹•ç•« */
    .menu-toggle.active span:nth-child(1) { transform: translateY(8px) rotate(45deg); background-color: #333 !important; }
    .menu-toggle.active span:nth-child(2) { opacity: 0 !important; }
    .menu-toggle.active span:nth-child(3) { transform: translateY(-8px) rotate(-45deg); background-color: #333 !important; }

    /* é®ç½©ã€å¤§åœ–å„ªåŒ–ç¶­æŒä¸è®Š... */
    #nav-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.5); z-index: 2000;
        display: none; backdrop-filter: blur(3px);
    }
    header.menu-open #nav-overlay { display: block !important; }
    .hero-container { height: 80vh !important; margin-top: 0 !important; }
    .hero-image { top: 0 !important; height: 100% !important; }
    .hero-content { padding-top: 80px !important; }
}
Â  Â  Â  Â  /* --- é€šç”¨å€å¡Š --- */
Â  Â  Â  Â  /* --- ä¿®æ­£å‰å°é€šç”¨å€å¡Šé–“è· (é›»è…¦ç‰ˆ) --- */
Â  Â  Â  Â  .content-section {Â 
Â  Â  Â  Â  Â  padding: 25px 20px; /* åŸæœ¬ 40px æ”¹ç‚º 25pxï¼Œç¸®æ¸›ç•™ç™½ */
Â  Â  Â  Â  Â max-width: 800px;Â 
Â  Â  Â  Â  margin: 0 auto;Â 
Â  Â  Â  Â  text-align: center;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .section-title {Â 
Â  Â  Â  Â  color: var(--brand-color);Â 
Â  Â  Â  Â  font-size: 2rem;Â 
Â  Â  Â  Â  margin-bottom: 5px !important; /* è®“æ¨™é¡Œèˆ‡æè¿°æ›´ç·Šæ¹Š */
Â  Â  Â  Â  }
Â  Â  Â  Â  .section-desc {Â 
Â  Â  Â  Â  color: #666;Â 
Â  Â  Â  Â  margin-bottom: 20px !important; /* è®“æè¿°èˆ‡å…§å®¹æ›´æ¥è¿‘ */
Â  Â  Â  Â  }
Â  Â  Â  Â  .btn-main {
Â  Â  Â  Â  Â  Â  display: inline-block; background-color: #fff; color: var(--brand-color);
Â  Â  Â  Â  Â  Â  padding: 12px 30px; border-radius: 30px; text-decoration: none; font-weight: bold;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: all 0.3s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  .btn-main:hover { transform: translateY(-2px); background-color: #fffaf0; }

Â  Â  Â  Â  /* --- æœ€æ–°å„ªæƒ  --- */
Â  Â  Â  Â  .offerSwiper { width: 100%; padding: 20px 0 50px 0; }
Â  Â  Â  Â  .offer-card-layout {
Â  Â  Â  Â  Â  Â  background: #fff; border-radius: 20px; overflow: hidden;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0,0,0,0.1); display: flex;
Â  Â  Â  Â  Â  Â  max-width: 900px; margin: 0 auto;
Â  Â  Â  Â  }
Â  Â  Â  Â  .offer-img-box { flex: 1; min-height: 300px; display: flex; align-items: center; justify-content: center; background-color: #fff; padding: 30px; }
Â  Â  Â  Â  .offer-img-box img { width: 100%; height: 100%; object-fit: contain; display: block; }
Â  Â  Â  Â  .offer-text-box { flex: 1; padding: 40px; text-align: left; display: flex; flex-direction: column; justify-content: center; }
Â  Â  Â  Â  .offer-text-box h3 { font-size: 1.8rem; color: #333; margin: 15px 0; }
Â  Â  Â  Â  .offer-text-box p { color: #666; line-height: 1.6; margin-bottom: 20px; }
Â  Â  Â  Â  .tag-pill { display: inline-block; background-color: #ff4757; color: #fff; padding: 5px 15px; border-radius: 50px; font-size: 0.9rem; font-weight: bold; align-self: flex-start; margin-bottom: 10px; }
Â  Â  Â  Â  .offer-list { list-style: none; padding: 0; margin-bottom: 20px; color: #555; }
Â  Â  Â  Â  .offer-list li { margin-bottom: 8px; }
Â  Â  Â  Â  .price-highlight { display: flex; gap: 15px; background: #f9f9f9; padding: 15px; border-radius: 10px; margin-bottom: 20px; color: var(--brand-color); }

Â  Â  Â  Â  /* --- é—œæ–¼é‹å‹•æŒ‰æ‘© --- */
Â  Â  Â  Â  .swiper { width: 100%; max-width: 1200px; margin: 0 auto; padding-bottom: 40px; padding-top: 20px; }
Â  Â  Â  Â  .swiper-slide { background-position: center; background-size: cover; width: auto; height: auto; }
Â  Â  Â  Â  .slide-img { display: block; width: 100%; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
Â  Â  Â  Â  .swiper-pagination-bullet-active { background-color: var(--brand-color) !important; }
Â  Â  Â  Â  .my-prev-btn, .my-next-btn {
Â  Â  Â  Â  Â  Â  position: absolute; top: 60%; transform: translateY(-50%); width: 40px; height: 40px;
Â  Â  Â  Â  Â  Â  background-color: #fff; border-radius: 50%; box-shadow: 0 2px 8px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  display: flex; align-items: center; justify-content: center; z-index: 10; cursor: pointer;
Â  Â  Â  Â  }
Â  Â  Â  Â  .my-prev-btn { left: 10px; } .my-next-btn { right: 10px; }
Â  Â  Â  Â  .my-prev-btn::after, .my-next-btn::after { font-size: 1.2rem; font-weight: bold; }

Â  Â  Â  Â  /* --- åƒ¹ç›®è¡¨ --- */
Â  Â  Â  Â  .services-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; text-align: left; }
Â  Â  Â  Â  .service-card { background: #fff; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.3s ease; }
Â  Â  Â  Â  .service-card:hover { transform: translateY(-5px); }
Â  Â  Â  Â  .card-body { padding: 25px; }
Â  Â  Â  Â  .card-body h3 { margin: 0 0 10px 0; color: #333; }
Â  Â  Â  Â  .desc { color: #666; line-height: 1.6; margin-bottom: 20px; font-size: 0.95rem; }

Â  Â  Â  Â  /* --- é ç´„æ—¥æ›† (é›»è…¦ç‰ˆ) --- */
Â  Â  Â  Â  .booking-container {Â 
Â  Â  Â  Â  Â  Â  background: #fff; padding: 30px; border-radius: 15px;Â 
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0,0,0,0.05); max-width: 700px;Â 
Â  Â  Â  Â  Â  Â  margin: 0 auto; text-align: left;Â 
Â  Â  Â  Â  Â  Â  position: relative;Â 
Â  Â  Â  Â  Â  Â  min-height: 400px;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .booking-container h3 { padding-left: 0; margin-bottom: 15px; color: #333; text-align: center; }
Â  Â  Â  Â  .month-selector { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
Â  Â  Â  Â  .month-btn { background: none; border: 1px solid #ddd; padding: 5px 10px; border-radius: 5px; cursor: pointer; color: #666; font-size: 1.2rem; }
Â  Â  Â  Â  .month-btn:hover { background: #f0f0f0; }
Â  Â  Â  Â  .month-title-group { display: flex; flex-direction: column; align-items: center; }
Â  Â  Â  Â  .today-btn { font-size: 0.75rem; padding: 2px 10px; margin-top: 5px; background: #eee; color: #666; border: none; border-radius: 15px; cursor: pointer; transition: 0.2s; }
Â  Â  Â  Â  .today-btn:hover { background: var(--brand-color); color: #fff; }

Â  Â  Â  Â  .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; margin-bottom: 30px; justify-items: center; align-items: center; }
Â  Â  Â  Â  .cal-header { font-size: 0.8rem; font-weight: bold; color: #888; padding-bottom: 5px; width: 100%; text-align: center; }
Â  Â  Â  Â  .calendar-day { border: 1px solid #ddd; border-radius: 12px; width: 75px; height: 75px; text-align: center; cursor: pointer; transition: all 0.2s; font-size: 1rem; display: flex; flex-direction: column; justify-content: center; align-items: center; flex-shrink: 0; }
Â  Â  Â  Â  .calendar-day span { font-size: 0.8rem; color: #888; margin-top: 3px; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .calendar-day.active, .calendar-day.holiday.active, .calendar-day.today.active { background-color: var(--brand-color) !important; color: #fff !important; border-color: var(--brand-color) !important; }
Â  Â  Â  Â  .calendar-day.active span, .calendar-day.holiday.active span, .calendar-day.today.active span { color: #fff !important; }
Â  Â  Â  Â  .calendar-day.holiday { background-color: #fff0f0; border: 2px solid #ffcccc; color: #d63031; pointer-events: auto !important; }
Â  Â  Â  Â  .calendar-day.holiday span { color: #d63031; display: block; }
Â  Â  Â  Â  .calendar-day.today { border: 2px solid var(--brand-color); font-weight: bold; background: transparent; color: var(--text-dark); }
Â  Â  Â  Â  .calendar-day.disabled { background-color: #f0f0f0; color: #ccc; cursor: not-allowed; pointer-events: none; }
Â  Â  Â  Â  .calendar-day.full { background-color: #e0e0e0; color: #888; pointer-events: none; }
Â  Â  Â  Â  .calendar-day.full span { color: #888; }

Â  Â  Â  Â  .time-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
Â  Â  Â  Â  .time-btn { padding: 10px; background: #fff; border: 1px solid var(--brand-color); border-radius: 5px; color: var(--brand-color); cursor: pointer; transition: all 0.2s; }
Â  Â  Â  Â  .time-btn:hover, .time-btn.selected { background-color: var(--brand-color); color: #fff; }
Â  Â  Â  Â  .time-btn.disabled { background-color: #f0f0f0; color: #ccc; cursor: not-allowed; pointer-events: none; }
Â  Â  Â  Â  #selected-date-display { font-size: 1rem; color: var(--brand-color); font-weight: bold; background: #fffaf0; padding: 2px 10px; border-radius: 15px; margin-left: 10px; }

Â  Â  Â  Â  /* --- 7. é ç´„é ˆçŸ¥ & Q&A --- */
Â  Â  Â  Â  .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; max-width: 1000px; margin: 0 auto; }
Â  Â  Â  Â  .info-card { background: #fff; padding: 20px 25px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.03); text-align: left; transition: transform 0.2s; border-left: 5px solid transparent; }
Â  Â  Â  Â  .info-card:hover { transform: translateY(-3px); border-left: 5px solid var(--brand-color); box-shadow: 0 8px 15px rgba(0,0,0,0.08); }
Â  Â  Â  Â  .card-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
Â  Â  Â  Â  .info-icon { font-size: 1.8rem; line-height: 1; }
Â  Â  Â  Â  .info-card h4 { margin: 0; font-size: 1.2rem; color: #333; }
Â  Â  Â  Â  .info-card p { margin: 0; color: #666; font-size: 0.95rem; line-height: 1.6; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .qa-grid { display: grid; gap: 30px; margin-top: 40px; grid-template-columns: 1fr 1fr; }
Â  Â  Â  Â  .qa-card { background: #fff; padding: 30px; border-radius: 20px; position: relative; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border: 1px solid #f0f0f0; text-align: left; }
Â  Â  Â  Â  .qa-badge { position: absolute; top: -15px; left: 20px; background-color: #5e4b35; color: #fff; padding: 5px 15px; border-radius: 20px; font-size: 0.85rem; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
Â  Â  Â  Â  .qa-card h3 { margin-top: 10px; color: #333; font-size: 1.3rem; }

Â  Â  Â  Â  /* --- 8. è¯çµ¡æˆ‘å€‘ --- */
Â  Â  Â  Â  .contact-container { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: flex-start; width: 100%; }
Â  Â  Â  Â  .contact-info, .map-box { width: 100%; }
Â  Â  Â  Â  .contact-info { text-align: left; }
Â  Â  Â  Â  .map-box { height: 300px; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
Â  Â  Â  Â  .map-box iframe { display: block; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .contact-item { font-size: 1.1rem; margin: 15px 0; line-height: 1.6; }
Â  Â  Â  Â  .contact-item strong { display: inline; margin-right: 5px; color: #efb748; font-size: 1rem; }
Â  Â  Â  Â  .contact-item span, .contact-item a { display: inline; }
Â  Â  Â  Â  .social-row { display: block; }
Â  Â  Â  Â  .social-row .contact-item { margin-bottom: 10px; margin-top: 0; display: inline-block; margin-right: 20px; }
Â  Â  Â  Â  .social-row strong { color: #efb748; }
Â  Â  Â  Â  .time-item strong { display: block; margin-bottom: 5px; }
Â  Â  Â  Â  .time-list-desktop { white-space: nowrap !important; display: block !important; }
Â  Â  Â  Â  .btn-group { display: flex; gap: 10px; margin-top: 20px; }
Â  Â  Â  Â  .contact-info .btn-main { width: auto; }
Â  Â  Â  Â  .mobile-break { display: none; }
Â  Â  Â  Â  .mobile-break::after { content: " | "; display: inline; }

Â  Â  Â  Â  /* --- 9. å…¶ä»– --- */
Â  Â  Â  Â  .floating-btn-container { position: fixed; bottom: 30px; right: 30px; display: flex; flex-direction: column; gap: 10px; z-index: 999; transition: opacity 0.5s ease; }
Â  Â  Â  Â  .float-btn { width: 45px; height: 45px; background-color: var(--brand-color); color: #fff; border: none; border-radius: 50%; font-size: 1.2rem; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); transition: all 0.3s; display: flex; align-items: center; justify-content: center; }
Â  Â  Â  Â  .float-btn:hover { background-color: #333; transform: scale(1.1); }
Â  Â  Â  Â  .admin-float-btn { background-color: #333; font-size: 1rem; margin-top: 5px; }
Â  Â  Â  Â  footer { text-align: center; padding: 5px 5px; background-color: transparent; color: #999; font-size: 0.85rem; margin-top: 20px; }

Â  Â  Â  Â  /* ============================================= */
Â  Â  Â  Â  /* ğŸš€ å½ˆçª— & å¾Œå° & IGç­è¡¨æ¨£å¼Â  Â  Â  Â  Â  Â  Â  Â  Â  */
Â  Â  Â  Â  /* ============================================= */
Â  Â  Â  Â  #booking-modal-overlay, #admin-login-overlay {Â 
Â  Â  Â  Â  Â  Â  position: fixed; top: 0; left: 0; width: 100%; height: 100%;Â 
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.5); backdrop-filter: blur(3px);
Â  Â  Â  Â  Â  Â  z-index: 10002; display: none; flex-direction: column; justify-content: center; align-items: center;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .booking-modal, .admin-login-box {Â 
Â  Â  Â  Â  Â  Â  background: #fff; padding: 30px; border-radius: 15px; width: 90%; max-width: 400px;Â 
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0,0,0,0.2); position: relative; text-align: left;
Â  Â  Â  Â  }
Â  Â  Â  Â  .booking-modal h3, .admin-login-box h2 { margin-top: 0; color: var(--brand-color); text-align: center; }
Â  Â  Â  Â  #booking-info-text { font-size: 1.1rem !important; color: var(--brand-color) !important; font-weight: bold; margin-bottom: 20px !important; text-align: center; }
Â  Â  Â  Â  .form-group { margin-bottom: 15px; }
Â  Â  Â  Â  .form-label { display: block; font-size: 0.9rem; color: #666; margin-bottom: 5px; }
Â  Â  Â  Â  .required { color: red; margin-left: 3px; }
Â  Â  Â  Â  .form-input, .form-select, .login-input {Â 
Â  Â  Â  Â  Â  Â  width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; font-size: 1rem; margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .modal-close { position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #999; }
Â  Â  Â  Â  .login-btn { background: var(--brand-color); color: #fff; border: none; padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; width: 100%; transition: 0.3s; }
Â  Â  Â  Â  .login-btn:hover { opacity: 0.9; }

Â  Â  Â  Â  /* Toast */
Â  Â  Â  Â  #toast-msg {
Â  Â  Â  Â  Â  Â  position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%);
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.8); color: #fff; padding: 10px 20px; border-radius: 20px;
Â  Â  Â  Â  Â  Â  font-size: 0.9rem; z-index: 20000; opacity: 0; transition: opacity 0.3s; pointer-events: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Admin Styles */
Â  Â  Â  Â  #admin-panel { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--admin-bg); z-index: 10000; overflow-y: auto; color: var(--admin-text); }
Â  Â  Â  Â  .admin-header { background-color: #fff; color: #333; padding: 15px 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; }
Â  Â  Â  Â  .admin-header h1 { margin: 0; font-size: 1.2rem; color: var(--brand-color); }
Â  Â  Â  Â  .admin-container { max-width: 600px; margin: 20px auto; padding: 0 15px; padding-bottom: 60px; }
Â  Â  Â  Â  /* --- ä¿®æ­£å¾Œçš„æ•¸æ“šå¡ç‰‡æ’ç‰ˆ --- */
Â  Â  Â  Â  .dashboard-grid {Â 
Â  Â  Â  Â  Â display: grid;Â 
Â  Â  Â  Â  /* é›»è…¦ç‰ˆè‡ªå‹•ä¸¦æ’ï¼Œæ‰‹æ©Ÿç‰ˆç©ºé–“ä¸è¶³æœƒè‡ªå‹•åˆ‡æ› */
Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));Â 
Â  Â  Â  Â  gap: 15px;Â 
Â  Â  Â  Â  margin-bottom: 20px;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .dash-card { background: #fff; padding: 15px; border-radius: 10px; text-align: center; border-left: 4px solid var(--brand-color); box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
Â  Â  Â  Â  .dash-num { font-size: 1.8rem; font-weight: bold; color: #333; margin: 5px 0; }
Â  Â  Â  Â  .dash-label { font-size: 0.8rem; color: #888; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .admin-card { position: relative; background: #fff; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .admin-month-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
Â  Â  Â  Â  .admin-month-title { font-size: 1.2rem; font-weight: bold; color: #333; }
Â  Â  Â  Â  .admin-toolbar { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; }
Â  Â  Â  Â  .admin-tool-btn { background-color: #fff; border: 1px solid #ddd; color: #666; padding: 8px 15px; border-radius: 20px; font-size: 0.9rem; cursor: pointer; display: flex; align-items: center; gap: 5px; transition: 0.2s; }
Â  Â  Â  Â  .admin-tool-btn:hover { background-color: var(--brand-color); color: #fff; border-color: var(--brand-color); }
Â  Â  Â  Â  .admin-cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; text-align: center; }
Â  Â  Â  Â  .admin-cal-head { font-size: 0.7rem; color: #888; margin-bottom: 5px; }
Â  Â  Â  Â  .admin-cal-cell { aspect-ratio: 1/1; display: flex; flex-direction: column; justify-content: center; align-items: center; border-radius: 8px; border: 1px solid #eee; font-size: 0.9rem; cursor: pointer; position: relative; background: #fff; transition: all 0.2s; color: #333; }
Â  Â  Â  Â  .admin-cal-cell.today { border: 2px solid var(--brand-color); font-weight: bold; }
Â  Â  Â  Â  .admin-cal-cell.selected { background-color: var(--brand-color); color: #fff; border-color: var(--brand-color); }
Â  Â  Â  Â  .admin-cal-cell.holiday { background-color: #fff0f0; color: #d63031; text-decoration: none; }
Â  Â  Â  Â  .dot { width: 6px; height: 6px; border-radius: 50%; margin-top: 2px; background-color: #2ecc71; display: none; }
Â  Â  Â  Â  .dot.active { display: block; }
Â  Â  Â  Â  .event-text { display: none; }Â 
Â  Â  Â  Â  .admin-cal-grid.detail-mode .admin-cal-cell { aspect-ratio: auto; min-height: 80px; justify-content: flex-start; padding-top: 5px; align-items: stretch; }
Â  Â  Â  Â  .admin-cal-grid.detail-mode .dot { display: none; }Â 
Â  Â  Â  Â  .admin-cal-grid.detail-mode .event-text { display: block; font-size: 0.65rem; color: #fff; background-color: #2ecc71; margin: 2px 0; padding: 2px 4px; border-radius: 3px; text-align: left; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }
Â  Â  Â  Â  .admin-cal-grid.detail-mode .admin-cal-cell.holiday .event-text { display: none; }

Â  Â  Â  Â  .detail-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }
Â  Â  Â  Â  .date-title { font-size: 1.5rem; font-weight: bold; color: var(--brand-color); }
Â  Â  Â  Â  .daily-revenue-box { background-color: #fff4e5; color: #d35400; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.95rem; }

Â  Â  Â  Â  .order-item { background: #fff; border: 1px solid #eee; border-left: 5px solid var(--brand-color); padding: 15px; margin-bottom: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.03); }
Â  Â  Â  Â  .info-row { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.95rem; }
Â  Â  Â  Â  .info-label { color: #888; min-width: 70px; }
Â  Â  Â  Â  .info-value { color: #333; font-weight: 500; text-align: right; flex: 1; }
Â  Â  Â  Â  .order-header { border-bottom: 1px dashed #eee; padding-bottom: 10px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .order-time-badge { background: #333; color: #fff; padding: 4px 10px; border-radius: 4px; font-size: 1rem; font-weight: bold; }
Â  Â  Â  Â  .status-badge { font-size: 0.8rem; padding: 2px 8px; border-radius: 10px; background: #eee; color: #666; }
Â  Â  Â  Â  .status-badge.paid { background: #d4edda; color: #155724; }

Â  Â  Â  Â  .action-btns { display: flex; gap: 10px; margin-top: 15px; }
Â  Â  Â  Â  .status-btn { flex: 1; padding: 10px; border: none; border-radius: 5px; font-size: 0.95rem; cursor: pointer; color: #fff; font-weight: bold; transition: 0.2s; }
Â  Â  Â  Â  .btn-done { background: #27ae60; }
Â  Â  Â  Â  .btn-done.undo { background: #f39c12; }Â 
Â  Â  Â  Â  .btn-cancel { background: #e74c3c; }

Â  Â  Â  Â  .admin-big-btn-group { display: flex; gap: 10px; margin-top: 20px; border-top: 1px solid #eee; padding-top: 20px; }
Â  Â  Â  Â  .admin-big-btn { flex: 1; padding: 15px; border: none; border-radius: 10px; font-size: 1rem; font-weight: bold; cursor: pointer; color: #fff; display: flex; align-items: center; justify-content: center; gap: 5px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
Â  Â  Â  Â  .btn-holiday-big { background-color: #e74c3c; }
Â  Â  Â  Â  .btn-open-big { background-color: #2ecc71; }
Â  Â  Â  Â  .admin-time-management { margin-top: 20px; background: #fafafa; padding: 15px; border-radius: 10px; }
Â  Â  Â  Â  .admin-time-title { font-size: 0.95rem; font-weight: bold; margin-bottom: 10px; color: #555; }
Â  Â  Â  Â  .admin-time-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
Â  Â  Â  Â  .time-switch { display: flex; align-items: center; justify-content: space-between; background: #fff; padding: 8px 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 0.85rem; }
Â  Â  Â  Â  .switch-input { margin-left: 5px; transform: scale(1.2); cursor: pointer; }
Â  Â  Â  Â  .control-btn { background: none; border: 1px solid #ddd; color: #666; padding: 5px 10px; border-radius: 5px; font-size: 0.8rem; cursor: pointer; }

Â  Â  Â  Â  /* ========================================= */
Â  Â  Â  Â  /* ğŸ”¥ IG é™å‹•ç­è¡¨ - V84 çµ‚æ¥µç°¡åŒ–ç‰ˆ (HTML img) */
Â  Â  Â  Â  /* ========================================= */
Â  Â  Â  Â  #ig-story-container {
Â  Â  Â  Â  Â  Â  width: 1080px; height: 1920px;
Â  Â  Â  Â  Â  Â  /* âŒ ç§»é™¤ CSS èƒŒæ™¯åœ–ï¼Œæ”¹ç”¨ HTML <img> */
Â  Â  Â  Â  Â  Â  background-color: transparent;Â 
Â  Â  Â  Â  Â  Â  position: fixed; left: -9999px; top: 0; z-index: -1;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  display: flex;Â 
Â  Â  Â  Â  Â  Â  flex-direction: column;Â 
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  padding-top: 160px;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  font-family: 'Noto Sans TC', sans-serif;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* é€™æ˜¯èƒŒæ™¯åœ–çš„æ¨£å¼ï¼Œè®“å®ƒä¹–ä¹–å¾…åœ¨æœ€åº•å±¤ */
Â  Â  Â  Â  #ig-bg-layer {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0; left: 0;
Â  Â  Â  Â  Â  Â  width: 100%; height: 100%;
Â  Â  Â  Â  Â  Â  object-fit: cover;
Â  Â  Â  Â  Â  Â  z-index: -1; /* æ”¾åœ¨æ‰€æœ‰æ–‡å­—å¾Œé¢ */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- æ¨™é¡Œå€åŸŸ --- */
Â  Â  Â  Â  .ig-header-group {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  margin-bottom: 225px;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  .ig-month-en {
Â  Â  Â  Â  Â  Â  font-family: 'Lato', sans-serif;Â 
Â  Â  Â  Â  Â  Â  font-size: 110px;Â 
Â  Â  Â  Â  Â  Â  font-weight: 400;Â 
Â  Â  Â  Â  Â  Â  color: #000;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  line-height: 1;
Â  Â  Â  Â  Â  Â  letter-spacing: 20px;Â 
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  }

Â  Â  Â  Â  .ig-year-sub {
Â  Â  Â  Â  Â  Â  font-family: 'Lato', sans-serif;
Â  Â  Â  Â  Â  Â  font-size: 45px;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  letter-spacing: 8px;
Â  Â  Â  Â  Â  Â  margin-top: 40px;Â 
Â  Â  Â  Â  Â  Â  font-weight: 400;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- æ ¼å­èˆ‡æ•¸å­—å€åŸŸ --- */
Â  Â  Â  Â  .ig-grid-container {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(7, 1fr);
Â  Â  Â  Â  Â  Â  width: 840px;Â 
Â  Â  Â  Â  Â  Â  border: none;Â 
Â  Â  Â  Â  Â  Â  padding-left: 5px;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .ig-cell-head { display: none; }Â 

Â  Â  Â  Â  .ig-cell-body {
Â  Â  Â  Â  Â  Â  height: 165px;Â 
Â  Â  Â  Â  Â  Â  border: none;Â 
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  padding-top: 15px;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  .ig-date-num {
Â  Â  Â  Â  Â  Â  font-family: 'Lato', sans-serif;
Â  Â  Â  Â  Â  Â  font-size: 40px;
Â  Â  Â  Â  Â  Â  font-weight: 400;Â 
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ä¼‘å‡å°åœ“åœˆ */
Â  Â  Â  Â  .ig-holiday-circle {
Â  Â  Â  Â  Â  Â  margin-top: 12px;Â 
Â  Â  Â  Â  Â  Â  width: 52px; height: 52px;
Â  Â  Â  Â  Â  Â  background-color: #f3d0d3;Â 
Â  Â  Â  Â  Â  Â  color: #c0392b;Â 
Â  Â  Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  Â  Â  display: flex; justify-content: center; align-items: center;
Â  Â  Â  Â  Â  Â  font-size: 28px;
Â  Â  Â  Â  Â  Â  font-weight: bold;Â 
Â  Â  Â  Â  Â  Â  font-family: 'Noto Sans TC', sans-serif;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .ig-footer, .ig-handle, .ig-logo-box { display: none; }

Â  Â  Â  Â  /* ============================================= */
Â  Â  Â  Â  /* ğŸ“± æ‰‹æ©Ÿç‰ˆå°ˆå±¬ä¿®æ­£ V25.0 (æœ€çµ‚å®Œç¾ç‰ˆ)Â  Â  Â  Â  Â  Â */
Â  Â  Â  Â  /* ============================================= */
Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  /* 1. å°è¦½åˆ— */
Â  Â  Â  Â  Â  Â  header { padding: 10px 0; position: fixed !important; top: 0; left: 0; width: 100%; z-index: 1000; }
            body { padding-top: 0 !important; }
Â  Â  Â  Â  Â  Â  .logo-img { height: 45px; }
Â  Â  Â  Â  Â  Â  .nav-menu a { padding: 6px 12px; border-radius: 20px; font-size: 0.85rem; margin: 0; white-space: nowrap !important; }

Â  Â  Â  Â  Â  Â  /* 2. æ—¥æ›† */
Â  Â  Â  Â  Â  Â  .booking-container { padding: 20px 5px !important; width: 100% !important; box-sizing: border-box; }
Â  Â  Â  Â  Â  Â  .calendar-grid { display: grid !important; grid-template-columns: repeat(7, 1fr) !important; gap: 2px !important; width: 100% !important; }
Â  Â  Â  Â  Â  Â  .calendar-day { width: 100% !important; height: auto !important; aspect-ratio: 1 / 1 !important; font-size: 0.75rem !important; padding: 0 !important; border-radius: 4px !important; min-height: 0 !important; }
Â  Â  Â  Â  Â  Â  .calendar-day span { font-size: 0.5rem !important; transform: scale(0.85); margin-top: 0px; }
Â  Â  Â  Â  Â  Â  .time-grid { grid-template-columns: repeat(3, 1fr) !important; gap: 8px !important; }
Â  Â  Â  Â  Â  Â  .time-btn { width: 100% !important; padding: 10px 0 !important; font-size: 0.9rem !important; }

Â  Â  Â  Â  Â  Â  /* 3. è¯çµ¡è³‡è¨Š */
Â  Â  Â  Â  Â  Â  .contact-container { display: flex !important; flex-direction: column !important; gap: 30px !important; width: 100% !important; }
Â  Â  Â  Â  Â  Â  .contact-item { display: flex !important; flex-direction: column !important; align-items: flex-start !important; margin-bottom: 15px !important; }
Â  Â  Â  Â  Â  Â  .contact-item strong { display: block !important; margin-bottom: 2px !important; width: 100%; }
Â  Â  Â  Â  Â  Â  .social-row { display: flex !important; flex-direction: column !important; gap: 5px !important; margin-bottom: 15px !important; width: 100% !important; }
Â  Â  Â  Â  Â  Â  .social-row .contact-item { margin-bottom: 0 !important; display: flex !important; flex-direction: row !important; align-items: center !important; gap: 5px !important; width: 100%; margin-right: 0 !important; }
Â  Â  Â  Â  Â  Â  .social-row strong { width: auto !important; margin-bottom: 0 !important; white-space: nowrap !important; }
Â  Â  Â  Â  Â  Â  .btn-group { display: flex !important; flex-direction: column !important; gap: 10px !important; width: 100% !important; }
Â  Â  Â  Â  Â  Â  .contact-info .btn-main { width: 100% !important; margin: 8px 0 !important; text-align: center; display: flex !important; justify-content: center !important; box-sizing: border-box !important; }

Â  Â  Â  Â  Â  Â  /* 4. å…¶ä»–ä¿®æ­£ */
Â  Â  Â  Â  Â  Â  .section-title { font-size: 1.4rem !important; margin-bottom: 20px !important; }
Â  Â  Â  Â  Â  Â  .info-grid, .qa-grid { display: flex !important; overflow-x: auto !important; gap: 15px !important; padding: 30px 20px 30px 20px !important; margin: 0 -20px !important; scroll-snap-type: x mandatory; scrollbar-width: none; grid-template-columns: none !important; }
Â  Â  Â  Â  Â  Â  .info-card, .qa-card { min-width: 70vw !important; margin: 0 !important; scroll-snap-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.08) !important; position: relative; overflow: visible !important; }
Â  Â  Â  Â  Â  Â  .info-card:last-child, .qa-card:last-child { margin-right: 20px !important; }
Â  Â  Â  Â  Â  Â  #contact { margin: 20px 15px !important; border-radius: 20px !important; width: auto !important; padding: 30px 20px !important; box-sizing: border-box; }
Â  Â  Â  Â  Â  Â  .map-box { order: 2; height: 250px !important; width: 100% !important; }
Â  Â  Â  Â  Â  Â  .contact-info { order: 1; }
Â  Â  Â  Â  Â  Â  .services-grid + div p { font-size: 0.75rem !important; white-space: nowrap !important; letter-spacing: -0.5px; }
Â  Â  Â  Â  Â  Â  .mobile-break { display: inline; }
Â  Â  Â  Â  Â  Â  .mobile-break::after { display: none; }
Â  Â  Â  Â  Â  Â  .time-list-desktop { white-space: normal !important; display: block !important; }
Â  Â  Â  Â  Â  Â  /* æ‰¾åˆ° @media (max-width: 768px) è£¡é¢çš„ .content-section éƒ¨åˆ† */
Â  Â  Â  Â  Â  Â  .content-section {Â 
Â  Â  Â  Â  Â  Â  padding: 15px 15px !important; /* åŸæœ¬ 30px æ”¹ç‚º 15px */
Â  Â  Â  Â  Â  Â  margin: 10px 10px !important; /* åŸæœ¬ 20px æ”¹ç‚º 10px */
Â  Â  Â  Â  Â  Â  width: auto !important;Â 
Â  Â  Â  Â  Â  Â  border-radius: 20px !important;Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .offer-card-layout { flex-direction: column !important; }
Â  Â  Â  Â  Â  Â  .offer-img-box { padding: 0 !important; }
Â  Â  Â  Â  Â  Â  .offer-text-box { padding: 25px !important; }
Â  Â  Â  Â  Â  Â  #about { padding-left: 15px !important; padding-right: 15px !important; }
Â  Â  Â  Â  Â  Â  table { font-size: 0.75rem !important; }
Â  Â  Â  Â  Â  Â  th, td { padding: 8px 4px !important; white-space: nowrap !important; }
Â  Â  Â  Â  Â  Â  td span { font-size: 0.65rem !important; display: inline-block; }
Â  Â  Â  Â  Â  Â  .swiper-button-next, .swiper-button-prev, .my-next-btn, .my-prev-btn { display: none !important; }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- Hero Section å°ˆå±¬æ¨£å¼ --- */
.hero-container {
Â  Â  position: relative;
Â  Â  width: 100%;
Â  Â  height: 75vh; /* é›»è…¦ç‰ˆé«˜åº¦ä½”è¢å¹• 75% */
Â  Â  display: flex;
Â  Â  align-items: center;
Â  Â  justify-content: center;
Â  Â  overflow: hidden;
Â  Â  background-color: #000;
}

.hero-image {
Â  Â  position: absolute;
Â  Â  top: 0; left: 0;
Â  Â  width: 100%; height: 100%;
Â  Â  object-fit: cover;
Â  Â  /* ğŸ’¡ é—œéµï¼šé€™è¡Œç¢ºä¿æ‰‹æ©Ÿç‰ˆèšç„¦åœ¨æ‰‹éƒ¨ä¸­å¿ƒ */
Â  Â  object-position: center 30%;Â 
Â  Â  z-index: 1;
}

.hero-overlay {
Â  Â  position: absolute;
Â  Â  top: 0; left: 0;
Â  Â  width: 100%; height: 100%;
Â  Â  background: rgba(0, 0, 0, 0.4); /* 40% çš„é»‘è‰²é®ç½© */
Â  Â  z-index: 2;
}

.hero-content {
Â  Â  position: relative;
Â  Â  z-index: 3;
Â  Â  text-align: center;
Â  Â  color: #fff;
Â  Â  padding: 0 20px;
}

.hero-subline {
Â  Â  font-size: 0.8rem;
Â  Â  letter-spacing: 6px;
Â  Â  margin-bottom: 15px;
Â  Â  opacity: 0.8;
}

.hero-title {
Â  Â  font-size: 3.5rem;
Â  Â  font-weight: 700;
Â  Â  letter-spacing: 8px;
Â  Â  margin: 0 0 15px 0;
Â  Â  text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
}

.hero-desc {
Â  Â  font-size: 1.2rem;
Â  Â  letter-spacing: 3px;
Â  Â  margin-bottom: 35px;
Â  Â  font-weight: 400;
}

.hero-btn {
Â  Â  display: inline-block;
Â  Â  padding: 15px 40px;
Â  Â  background-color: var(--brand-color);
Â  Â  color: #fff;
Â  Â  text-decoration: none;
Â  Â  font-weight: bold;
Â  Â  border-radius: 50px;
Â  Â  transition: all 0.3s ease;
Â  Â  box-shadow: 0 4px 15px rgba(239, 183, 72, 0.4);
}

.hero-btn:hover {
Â  Â  transform: scale(1.05);
Â  Â  box-shadow: 0 6px 20px rgba(239, 183, 72, 0.6);
}

/* ğŸ“± æ‰‹æ©Ÿç‰ˆå¾®èª¿ */
@media (max-width: 768px) {
Â  Â  .hero-container { height: 60vh; } /* æ‰‹æ©Ÿç‰ˆé«˜åº¦ç¨å¾®ç¸®å° */
Â  Â  .hero-title { font-size: 2.2rem; letter-spacing: 5px; }
Â  Â  .hero-desc { font-size: 1rem; }
Â  Â  .hero-subline { font-size: 0.7rem; }
}
Â  Â  </style>
</head>
<body>

<header id="dynamic-header">
Â  Â  <div class="header-content">
Â  Â  Â  Â  <a href="#" onclick="scrollToTop(); return false;" class="logo-link">
Â  Â  Â  Â  Â  Â  <img src="images/logo.png" alt="TANG PING LOGO" class="logo-img">
Â  Â  Â  Â  </a>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="menu-toggle" id="menu-toggle-btn" onclick="toggleMenu()">
Â  Â  Â  Â  Â  Â  <span></span>
Â  Â  Â  Â  Â  Â  <span></span>
Â  Â  Â  Â  Â  Â  <span></span>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <nav class="nav-menu" id="main-nav">
Â  Â  <a href="#news" onclick="closeMenu()">æœ€æ–°å„ªæƒ </a>
Â  Â  <a href="#about" onclick="closeMenu()">é—œæ–¼èººå¹³</a>
Â  Â  <a href="#services" onclick="closeMenu()">åƒ¹ç›®è¡¨</a>
Â  Â  <a href="#booking" onclick="closeMenu()">ç·šä¸Šé ç´„</a>
Â  Â  <a href="#notice" onclick="closeMenu()">é ç´„é ˆçŸ¥</a>
Â  Â  <a href="#contact" onclick="closeMenu()">è¯çµ¡æˆ‘å€‘</a>
</nav>
Â  Â  </div>
Â  Â  <div id="nav-overlay" onclick="closeMenu()"></div>
</header>
Â  Â Â 
<section id="hero-banner" class="hero-container">
Â  Â  <img src="images/hero_bg.png" class="hero-image" alt="å°ˆæ¥­é‹å‹•æŒ‰æ‘©ç‰¹å¯«">
Â  Â Â 
Â  Â  <div class="hero-overlay"></div>
Â  Â Â 
Â  Â  <div class="hero-content">
Â  Â  Â  Â  <p class="hero-subline">PROFESSIONAL SPORT MASSAGE</p>
Â  Â  Â  Â  <h1 class="hero-title">TANG PING</h1>
Â  Â  Â  Â  <p class="hero-desc">å°ˆæ¥­é‹å‹•æŒ‰æ‘© ï½œ é‡å¡‘èº«é«”å¼µåŠ›</p>
Â  Â  Â  Â  <a href="#booking" class="hero-btn">ç«‹å³é ç´„æ”¾é¬†</a>
Â  Â  </div>
</section>
Â  Â Â 
Â  Â  <section class="content-section" id="news" style="background-color: #f9f5f0; padding-bottom: 40px;">
Â  Â  Â  Â  <h2 class="section-title">ğŸ‰ æœ€æ–°æ´»å‹• & ç¨å®¶å„ªæƒ </h2>
Â  Â  Â  Â  <p class="section-desc">ç‚ºæ‚¨æº–å‚™çš„å°ˆå±¬æ”¾é¬†ææ¡ˆ ğŸ‘‡</p>
Â  Â  Â  Â  <div class="swiper offerSwiper">
Â  Â  Â  Â  Â  Â  <div class="swiper-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><div class="offer-card-layout"><div class="offer-img-box"><img src="images/ç•¶æœˆå£½æ˜Ÿå„ªæƒ .png" alt="ç”Ÿæ—¥å„ªæƒ "></div><div class="offer-text-box"><span class="tag-pill">å£½æ˜Ÿç¨äº« ğŸ‚</span><h3>ç•¶æœˆå£½æ˜ŸæŠ˜æŠµ $200</h3><p>ç”Ÿæ—¥æ˜¯å°ˆå±¬æ–¼è‡ªå·±çš„æ—¥å­ï¼Œå€¼å¾—è¢«å¥½å¥½æ…¶ç¥ï¼<br>æ­¡è¿ä¾†èººå¹³é‹å‹•æŒ‰æ‘©ï¼Œå¸ä¸‹ç–²æ†Šï¼Œçµ¦èº«å¿ƒä¸€ä»½æ”¾é¬†çš„ç¦®ç‰©ã€‚</p><a href="#booking" class="btn-main" style="margin-top: 15px;">ğŸ”» ç«‹å³é ç´„ç”Ÿæ—¥ç¦®</a></div></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><div class="offer-card-layout"><div class="offer-img-box"><img src="images/å­¸ç”Ÿå„ªæƒ .png" alt="å­¸ç”Ÿå„ªæƒ "></div><div class="offer-text-box"><span class="tag-pill" style="background:#e67e22;">å­¸ç”Ÿé™å®š ğŸ“</span><h3>æ†‘å­¸ç”Ÿè­‰æŠ˜æŠµ $200</h3><p>ä¸è«–ä½ æ˜¯åœ¨æ“å ´æ®æ±—ï¼Œé‚„æ˜¯åœ¨è€ƒå ´ä¸­æ‹¼æã€‚<br>å¿«ä¾†æ”¾é¬†è‚Œè‚‰èˆ‡å£“åŠ›ï¼Œé‡æ•´èº«å¿ƒï¼Œè£œå¥½èƒ½é‡å†å‡ºç™¼ï¼</p><a href="#booking" class="btn-main" style="margin-top: 15px;">ğŸ”» å­¸ç”Ÿå°ˆå±¬é ç´„</a></div></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><div class="offer-card-layout"><div class="offer-img-box"><img src="images/åŒ…å ‚å„ªæƒ æ–¹æ¡ˆ.png" alt="åŒ…å ‚å„ªæƒ "></div><div class="offer-text-box"><span class="tag-pill" style="background:#d35400;">æœ€åˆ’ç®— ğŸ”¥</span><h3>åŒ…å ‚å„ªæƒ æ–¹æ¡ˆ</h3><p>æƒ³è¦å®šæœŸä¿é¤Šèº«é«”å—ï¼ŸåŒ…å ‚æ–¹æ¡ˆè®“æ‚¨çœæ›´å¤šï¼</p><div class="price-highlight"><div><strong>åŒ…äº”å ‚</strong> <br> çœ $500</div><div style="border-left: 1px solid #ddd; padding-left: 15px;"><strong>åŒ…åå ‚</strong> <br> çœ $2000</div></div><a href="https://line.me/R/ti/p/@tangping" target="_blank" class="btn-main" style="margin-top: 15px;">ğŸ’¬ ç§è¨Šè©¢å•åŒ…å ‚</a></div></div></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="swiper-pagination"></div>
Â  Â  Â  Â  Â  Â  <div class="swiper-button-next" style="color: var(--brand-color);"></div>
Â  Â  Â  Â  Â  Â  <div class="swiper-button-prev" style="color: var(--brand-color);"></div>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section class="content-section" id="about" style="background-color: #fffaf0; padding-bottom: 50px; border-radius: 20px; margin: 40px auto; max-width: 900px; position: relative; padding-left: 60px; padding-right: 60px; box-sizing: border-box;">
Â  Â  Â  Â  <h2 class="section-title" style="padding-top: 20px;">é—œæ–¼é‹å‹•æŒ‰æ‘©</h2>
Â  Â  Â  Â  <p class="section-desc" style="margin-bottom: 30px;">å·¦å³æ»‘å‹•å¡ç‰‡ï¼Œäº†è§£æˆ‘å€‘å¦‚ä½•å¹«åŠ©æ‚¨çš„èº«é«” ğŸ‘‡</p>
Â  Â  Â  Â  <div class="swiper mySwiper" style="width: 100%; height: 100%; overflow: hidden; border-radius: 10px;">
Â  Â  Â  Â  Â  Â  <div class="swiper-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><img src="images/æŒ‰æ‘©æ•ˆæœ.png" alt="æŒ‰æ‘©æ•ˆæœ" class="slide-img"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><img src="images/æ¯”è¼ƒåœ–.png" alt="æ¯”è¼ƒåœ–" class="slide-img"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><img src="images/é©åˆæ—ç¾¤.png" alt="é©åˆæ—ç¾¤" class="slide-img"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><img src="images/å¾’æ‰‹æŒ‰æ‘©.png" alt="å¾’æ‰‹æŒ‰æ‘©" class="slide-img"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><img src="images/ç­‹è†œåˆ€.png" alt="ç­‹è†œåˆ€" class="slide-img"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><img src="images/æ‹”ç½.png" alt="æ‹”ç½" class="slide-img"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><img src="images/ä¸æ˜¯è¬éˆä¸¹1.png" alt="ä¸æ˜¯è¬éˆä¸¹1" class="slide-img"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><img src="images/ä¸æ˜¯è¬éˆä¸¹2.png" alt="ä¸æ˜¯è¬éˆä¸¹2" class="slide-img"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-slide"><img src="images/ä¸æ˜¯è¬éˆä¸¹3.png" alt="ä¸æ˜¯è¬éˆä¸¹3" class="slide-img"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="swiper-pagination"></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="swiper-button-next my-next-btn" style="color: var(--brand-color);"></div>
Â  Â  Â  Â  <div class="swiper-button-prev my-next-btn" style="color: var(--brand-color);"></div>
Â  Â  </section>

Â  Â  <section class="content-section" id="services">
Â  Â  Â  Â  <h2 class="section-title">æœå‹™é …ç›® & åƒ¹ç›®è¡¨</h2>
Â  Â  Â  Â  <div class="services-grid">
Â  Â  Â  Â  Â  Â  <div class="service-card"><div class="card-body"><h3 style="color: var(--brand-color);">å°ˆæ¥­é‹å‹•æŒ‰æ‘©</h3><p class="desc">ä»¥ç¾å¼æ·±å£“æ‰‹æ³•ã€PNF ä¼¸å±•ç­‰æŠ€è¡“ï¼Œå¿…è¦æ™‚ä½¿ç”¨æ‹”ç½ï¼Œæœ‰æ•ˆé‡‹æ”¾æ·±å±¤è‚Œè‚‰çš„ç·Šç¹ƒèˆ‡ç— ç—›ã€‚é©åˆé‹å‹•å“¡ã€å¥èº«æ—ç¾¤åŠä¹…ç«™ä¹…åä¸Šç­æ—ã€‚</p><hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;"><div style="display: flex; justify-content: space-between; margin-bottom: 10px;"><span>åŸºç¤æ–¹æ¡ˆ (60åˆ†é˜)</span><strong>$ 1,200</strong></div><div style="display: flex; justify-content: space-between;"><span>å¤§æ¨‚æ–¹æ¡ˆ (90åˆ†é˜)</span><strong>$ 1,800</strong></div></div></div>
Â  Â  Â  Â  Â  Â  <div class="service-card"><div class="card-body"><h3 style="color: var(--brand-color);">å¼µåŠ›èª¿æ•´</h3><p class="desc">é€éç²¾æº–æ”¾é¬†æŠ€å·§ï¼Œçµåˆç­‹è†œåˆ€ã€æ‹”ç½èˆ‡ç°¡æ˜“é‹å‹•ï¼Œæœ‰æ•ˆé”åˆ°å¼µåŠ›å¹³è¡¡ï¼Œæ”¹å–„æ²¾é»ã€‚å¹«åŠ©æå‡æ´»å‹•åº¦ã€å„ªåŒ–èº«é«”å”èª¿æ€§ã€‚</p><hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;"><div style="display: flex; justify-content: space-between; margin-bottom: 10px;"><span>åŸºç¤æ–¹æ¡ˆ (60åˆ†é˜)</span><strong>$ 1,400</strong></div><div style="display: flex; justify-content: space-between;"><span>å¤§æ¨‚æ–¹æ¡ˆ (90åˆ†é˜)</span><strong>$ 2,000</strong></div></div></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div style="margin-top: 40px; overflow-x: auto;">
Â  Â  Â  Â  Â  Â  <h3 style="text-align: center; margin-bottom: 20px;">ğŸ’° åŒ…å ‚å„ªæƒ æ–¹æ¡ˆ (æœ€åˆ’ç®—!)</h3>
Â  Â  Â  Â  Â  Â  <table style="width: 100%; border-collapse: collapse; background: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
Â  Â  Â  Â  Â  Â  Â  Â  <tr style="background: #efb748; color: #fff;"><th style="padding: 15px; border: 1px solid #ddd;">é …ç›®</th><th style="padding: 15px; border: 1px solid #ddd;">å–®å ‚</th><th style="padding: 15px; border: 1px solid #ddd;">åŒ…äº”å ‚</th><th style="padding: 15px; border: 1px solid #ddd;">åŒ…åå ‚</th></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr><td style="padding: 15px; border: 1px solid #ddd;">å°ˆæ¥­é‹å‹•æŒ‰æ‘©</td><td style="padding: 15px; border: 1px solid #ddd;">$1,200</td><td style="padding: 15px; border: 1px solid #ddd;">$5,500 <br><span style="font-size:0.8rem; color:#888;">($1,100/å ‚)</span></td><td style="padding: 15px; border: 1px solid #ddd; color: #d35400; font-weight:bold;">$10,000 <br><span style="font-size:0.8rem;">($1,000/å ‚)</span></td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr><td style="padding: 15px; border: 1px solid #ddd;">å¼µåŠ›èª¿æ•´</td><td style="padding: 15px; border: 1px solid #ddd;">$1,400</td><td style="padding: 15px; border: 1px solid #ddd;">$6,500 <br><span style="font-size:0.8rem; color:#888;">($1,300/å ‚)</span></td><td style="padding: 15px; border: 1px solid #ddd; color: #d35400; font-weight:bold;">$12,000 <br><span style="font-size:0.8rem;">($1,200/å ‚)</span></td></tr>
Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  <p style="text-align: right; color: #666; font-size: 0.9rem; margin-top: 10px;">â€» åŒ…å ‚æ–¹æ¡ˆå¦‚æ¬²åŠ æ™‚ï¼Œæ¯åŠ  30 åˆ†é˜ä»¥ 500 å…ƒè¨ˆã€‚</p>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section class="content-section" id="booking">
Â  Â  Â  Â  <h2 class="section-title">ç·šä¸Šé ç´„</h2>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="booking-container">
Â  Â  Â  Â  Â  Â  <div id="front-loading-overlay" class="local-loading-overlay">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="spinner"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="loading-text">TANG PING è¼‰å…¥ä¸­...</div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="date-selector">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="month-selector">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="month-btn" onclick="prevMonth()">â®</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="month-title-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 id="currentMonthYear" style="margin-bottom:0;">12æœˆ (2025)</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="today-btn" onclick="resetToToday()">å›åˆ°ä»Šå¤©</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="month-btn" onclick="nextMonth()">â¯</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="calendar-grid" id="calendar-grid-front"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="time-selector">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>2. é¸æ“‡æ™‚æ®µ <span id="selected-date-display"></span></h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="time-grid" id="time-grid"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section class="content-section" id="notice" style="background-color: #f9f9f9; padding: 50px 40px; border-radius: 30px; max-width: 1000px; margin: 40px auto;">
Â  Â  Â  Â  <h2 class="section-title">âš ï¸ é ç´„é ˆçŸ¥</h2>
Â  Â  Â  Â  <div class="info-grid">
Â  Â  Â  Â  Â  Â  <div class="info-card"><div class="card-header"><div class="info-icon">ğŸ½</div><h4>ç©¿è‘—å»ºè­°</h4></div><p>è«‹ç©¿è‘—æˆ–æ”œå¸¶<strong>é‹å‹•æœè£</strong>ï¼Œå¥³æ€§å»ºè­°ç©¿è‘—é‹å‹•å…§è¡£ï¼Œæ–¹ä¾¿ä¼¸å±•èˆ‡æ”¾é¬†ã€‚</p></div>
Â  Â  Â  Â  Â  Â  <div class="info-card"><div class="card-header"><div class="info-icon">ğŸ±</div><h4>é£²é£Ÿå»ºè­°</h4></div><p>æŒ‰æ‘©å‰å¯ç¨å¾®é€²é£Ÿï¼Œä½†<strong>åˆ‡å‹¿é£½è…¹å‰ä¾†</strong>ï¼Œä»¥å…è¶´è‡¥æ™‚é€ æˆè…¹éƒ¨ä¸é©ã€‚</p></div>
Â  Â  Â  Â  Â  Â  <div class="info-card"><div class="card-header"><div class="info-icon">ğŸ’ª</div><h4>å¿ƒç†æº–å‚™</h4></div><p>é‹å‹•æŒ‰æ‘©ä¸åŒæ–¼ä¸€èˆ¬æ”¾é¬†ï¼Œé‡å°æ²¾é»è™•å¤„ç†æ™‚<strong>å¶æœ‰ç— ç—›æ„Ÿ</strong>ï¼Œå±¬æ­£å¸¸ç¾è±¡ã€‚</p></div>
Â  Â  Â  Â  Â  Â  <div class="info-card"><div class="card-header"><div class="info-icon">ğŸ¤•</div><h4>ä¸»å‹•å‘ŠçŸ¥</h4></div><p>è‹¥æœ‰æ‰‹è¡“èˆŠç–¾ã€æ‡·å­•æˆ–èº«é«”ä¸é©éƒ¨ä½ï¼Œè«‹<strong>å‹™å¿…ä¸»å‹•å‘ŠçŸ¥</strong>å¸«å‚…ã€‚</p></div>
Â  Â  Â  Â  Â  Â  <div class="info-card"><div class="card-header"><div class="info-icon">ğŸ•’</div><h4>é¦–æ¬¡é«”é©—</h4></div><p>å»ºè­°é ç´„ <strong>90 åˆ†é˜æ–¹æ¡ˆ</strong>ï¼ŒåŒ…å«å®Œæ•´è©•ä¼°èˆ‡æ¸¬è©¦ï¼Œè¼ƒèƒ½å……åˆ†æ„Ÿå—æˆæ•ˆã€‚</p></div>
Â  Â  Â  Â  Â  Â  <div class="info-card"><div class="card-header"><div class="info-icon">ğŸ¥</div><h4>é†«ç™‚è²æ˜</h4></div><p>é‹å‹•æŒ‰æ‘©<strong>ç„¡æ³•æ›¿ä»£é†«ç™‚è¡Œç‚º</strong>ï¼Œè‹¥æœ‰æ€¥æ€§ç™¼ç‚æˆ–åš´é‡ä¸é©ï¼Œè«‹å…ˆå°±é†«ã€‚</p></div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <h2 class="section-title" style="margin-top: 60px; color: #5e4b35;">ğŸ’¡ èº«é«”å°çŸ¥è­˜ Q&A</h2>
Â  Â  Â  Â  <div class="qa-grid">
Â  Â  Â  Â  Â  Â  <div class="qa-card"><div class="qa-badge" style="background-color: #d35400;">Question 1</div><h3>è·Ÿä¸€èˆ¬æŒ‰æ‘©å·®åœ¨å“ªï¼Ÿ</h3><p><strong>A: ç›®çš„å®Œå…¨ä¸åŒï¼</strong></p><p>ä¸€èˆ¬æŒ‰æ‘©æ˜¯ç‚ºäº†ã€Œèˆ’å£“æ”¾é¬†ã€ã€‚<br>é‹å‹•æŒ‰æ‘©å‰‡æ˜¯ç‚ºäº†<strong>ã€Œæ¢å¾©è‚Œè‚‰åŠŸèƒ½ã€</strong>ï¼Œå¢åŠ é—œç¯€æ´»å‹•åº¦èˆ‡é‹å‹•è¡¨ç¾ã€‚</p></div>
Â  Â  Â  Â  Â  Â  <div class="qa-card"><div class="qa-badge" style="background-color: #88c1b8;">Question 2</div><h3>æŒ‰æ‘©å¾Œéš”å¤©ï¼Œèº«é«”æœ‰é»ç— ç—›æ­£å¸¸å—ï¼Ÿ</h3><p><strong>A: æ˜¯æ­£å¸¸çš„å–”ï¼ğŸ‘Œ</strong></p><p>é‹å‹•æŒ‰æ‘©å¾Œéš”å¤©èº«é«”æ„Ÿåˆ°ç— ç—›ï¼Œé€™é€šå¸¸ç¨±ç‚ºã€Œå»¶é²æ€§è‚Œè‚‰ç— ç—› (DOMS)ã€ã€‚é€™æ˜¯æ·±å±¤æŒ‰æ‘©å¾Œè‡ªç„¶çš„ä¿®å¾©éç¨‹ã€‚</p></div>
Â  Â  Â  Â  Â  Â  <div class="qa-card"><div class="qa-badge" style="background-color: #5e4b35;">Question 3</div><h3>å»¶é²æ€§è‚Œè‚‰ç— ç—›æ˜¯ä»€éº¼åŸå› é€ æˆçš„å‘¢ï¼Ÿ</h3><p><strong>A: é€™æ˜¯ä¿®å¾©çš„ä¿¡è™Ÿï¼ğŸ› ï¸</strong></p><p>ç•¶å¹³æ™‚è¼ƒå°‘ä½¿ç”¨çš„è‚Œè‚‰é–‹å§‹é‹ä½œï¼Œæˆ–æ·±å±¤æŒ‰æ‘©åˆºæ¿€å¾Œï¼Œè‚Œè‚‰æœƒç”¢ç”Ÿç´°å¾®æå‚·ä¸¦é€²è¡Œä¿®å¾©ï¼Œç·©è§£å¾Œæœƒè®“è‚Œè‚‰è®Šå¾—æ›´å¼·å£¯ã€‚</p></div>
Â  Â  Â  Â  Â  Â  <div class="qa-card"><div class="qa-badge" style="background-color: #e67e22;">Question 4</div><h3>è©²å¦‚ä½•ç·©è§£ç— ç—›æ„Ÿï¼Ÿ</h3><p><strong>A: é€™äº›æ–¹æ³•å¾ˆæœ‰ç”¨ï¼ğŸ›</strong></p><ul><li>â™¨ï¸ ç†±æ•·æˆ–æ³¡ç†±æ°´æ¾¡ï¼Œä¿ƒé€²å¾ªç’°</li><li>ğŸ’§ å¤šè£œå……æ°´åˆ†ï¼Œå¹«åŠ©ä»£è¬å»¢ç‰©</li><li>ğŸš¶â€â™‚ï¸ è¼•å¾®æ´»å‹• (å¦‚æ•£æ­¥)</li><li>ğŸ›Œ å……åˆ†ä¼‘æ¯ï¼Œé¿å…éåº¦ç–²å‹</li></ul></div>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section class="content-section" id="contact" style="background-color: #333; color: #fff; border-radius: 30px; max-width: 900px; margin: 30px auto; padding: 20px 20px;">
Â  Â  Â  Â  <h2 class="section-title" style="color: #efb748;">ğŸ“ è¯çµ¡æˆ‘å€‘</h2>
Â  Â  Â  Â  <div class="contact-container">
Â  Â  Â  Â  Â  Â  <div class="contact-info">
Â  Â  Â  Â  Â  Â  Â  Â  <p class="contact-item"><strong>åœ°å€ï¼š</strong> <span>æ–°åŒ—å¸‚è˜†æ´²å€ä¸‰æ°‘è·¯128å··68è™Ÿ</span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="social-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="contact-item"><strong>LINEï¼š</strong> <a href="https://line.me/R/ti/p/@tangping" style="color: #fff;">@tangping</a></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="contact-item"><strong>IGï¼š</strong> <a href="https://instagram.com/tangping_68" style="color: #fff;">tangping_68</a></p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <p class="contact-item time-item"><strong class="contact-title-block">æ¯æ—¥å¯é ç´„æ™‚æ®µï¼š</strong><span class="time-list-desktop">10:00 | 12:00 | 14:00 | 15:40 <br class="mobile-break">17:10 | 19:30 | 21:10</span></p>
Â  Â  Â  Â  Â  Â  Â  Â  <br>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="btn-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="https://line.me/R/ti/p/@tangping" target="_blank" class="btn-main" style="border:none; background-color:#00B900; color:white;">åŠ å…¥ LINE é ç´„</a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="https://instagram.com/tangping_68" target="_blank" class="btn-main" style="border:none; background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); color:white; margin-left: 10px;">è¿½è¹¤ Instagram</a>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="map-box"><iframe width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3613.370022826966!2d121.46770401095526!3d25.08933283596854!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a90055f62f55%3A0x9cc567681495fd17!2z6Lq65bmz6YGL5YuV5oyJ5pGp!5e0!3m2!1szh-TW!2stw!4v1765006184538!5m2!1szh-TW!2stw"></iframe></div>
Â  Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <footer>
Â  Â  Â  Â  <p>Â© 2025 TANG PING Sport Massage.</p>
Â  Â  </footer>

Â  Â  <div class="floating-btn-container">
Â  Â  Â  Â  <button onclick="scrollToTop()" class="float-btn">â–²</button>
Â  Â  Â  Â  <button onclick="scrollToBottom()" class="float-btn">â–¼</button>
Â  Â  Â  Â  <button onclick="openAdmin()" class="float-btn admin-float-btn" title="ç®¡ç†å¾Œå°">ğŸ”’</button>
Â  Â  </div>

Â  Â  <div id="ig-story-container">
Â  Â  Â  Â  <img id="ig-bg-layer" src="images/schedule_bg_clean.png" alt="Background">
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="ig-header-group">
Â  Â  Â  Â  Â  Â  <h1 class="ig-month-en" id="ig-month-en">DECEMBER</h1>
Â  Â  Â  Â  Â  Â  <div class="ig-year-sub" id="ig-year-sub">2025 / 12</div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="ig-grid-container" id="ig-new-grid">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  </div>

Â  Â  <div id="booking-modal-overlay">
Â  Â  Â  Â  <div class="booking-modal">
Â  Â  Â  Â  Â  Â  <button class="modal-close" onclick="closeBookingForm()">Ã—</button>
Â  Â  Â  Â  Â  Â  <h3>é ç´„ç¢ºèª</h3>
Â  Â  Â  Â  Â  Â  <p id="booking-info-text"></p>
Â  Â  Â  Â  Â  Â  <div class="form-group"><label class="form-label">å§“å <span class="required">*</span></label><input type="text" id="booking-name" class="form-input" placeholder="è«‹è¼¸å…¥çœŸå¯¦å§“å"></div>
Â  Â  Â  Â  Â  Â  <div class="form-group"><label class="form-label">è¯çµ¡é›»è©± <span class="required">*</span></label><input type="tel" id="booking-phone" class="form-input" placeholder="09xx-xxx-xxx" maxlength="15" oninput="this.value = formatPhone(this.value)"></div>
Â  Â  Â  Â  Â  Â  <div class="form-group"><label class="form-label">LINE ID (é¸å¡«)</label><input type="text" id="booking-line" class="form-input" placeholder="æ–¹ä¾¿æˆ‘å€‘è¯ç¹«æ‚¨"></div>
Â  Â  Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  Â  Â  <label class="form-label">é¸æ“‡æœå‹™é …ç›® <span class="required">*</span></label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="booking-service" class="form-select">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="å°ˆæ¥­é‹å‹•æŒ‰æ‘© 60min ($1,200)">å°ˆæ¥­é‹å‹•æŒ‰æ‘© 60min ($1,200)</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="å°ˆæ¥­é‹å‹•æŒ‰æ‘© 90min ($1,800)">å°ˆæ¥­é‹å‹•æŒ‰æ‘© 90min ($1,800)</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="å¼µåŠ›èª¿æ•´ 60min ($1,400)">å¼µåŠ›èª¿æ•´ 60min ($1,400)</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="å¼µåŠ›èª¿æ•´ 90min ($2,000)">å¼µåŠ›èª¿æ•´ 90min ($2,000)</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="ä½¿ç”¨åŒ…å ‚æ–¹æ¡ˆ (æ‰£1å ‚)">ä½¿ç”¨åŒ…å ‚æ–¹æ¡ˆ (æ‰£1å ‚)</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button id="confirm-btn" class="btn-main" style="width:100%; border:none; margin-top:10px;" onclick="confirmBooking()">ç¢ºèªé€å‡º</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="toast-msg">âœ… è¨­å®šå·²æ›´æ–°</div>

Â  Â  <div id="admin-login-overlay">
Â  Â  Â  Â  <div class="admin-login-box">
Â  Â  Â  Â  Â  Â  <h2 style="color:var(--brand-color);">å¾Œå°ç®¡ç†ç³»çµ±</h2>
Â  Â  Â  Â  Â  Â  <input type="password"Â 
Â  Â  Â  Â  Â  Â id="admin-password"Â 
Â  Â  Â  Â  Â  Â class="login-input"Â 
Â  Â  Â  Â  Â  Â placeholder="å¯†ç¢¼"Â 
Â  Â  Â  Â  Â  Â onkeydown="if(event.keyCode==13) checkAdminLogin()">
Â  Â  Â  Â  Â  Â  <button class="login-btn" onclick="checkAdminLogin()">ç™»å…¥</button>
Â  Â  Â  Â  Â  Â  <button class="login-btn" onclick="closeAdmin()" style="background:#ccc; margin-top:10px; color:#555;">å–æ¶ˆ</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="admin-panel">
Â  Â  Â  Â  <div class="admin-header">
Â  Â  Â  Â  Â  Â  <h1>ç®¡ç†å¾Œå°</h1>
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="logoutAdmin()" class="control-btn" style="margin-right:10px;">é›¢é–‹å¾Œå°</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â <div class="admin-container">
Â  Â  <div class="dashboard-grid">
Â  Â  Â  Â  <div class="dash-card">
Â  Â  Â  Â  Â  Â  <div class="dash-num" id="today-count">0</div>
Â  Â  Â  Â  Â  Â  <div class="dash-label">ä»Šæ—¥é ç´„</div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="dash-card">
Â  Â  Â  Â  Â  Â  <div class="dash-num" id="month-revenue">$0</div>
Â  Â  Â  Â  Â  Â  <div class="dash-label">æœ¬æœˆé ä¼°ç‡Ÿæ”¶</div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div style="display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px;">
Â  Â  Â  Â  <button class="admin-tool-btn"Â 
Â  Â  Â  Â  Â  Â  Â  Â  style="width:100%; background-color:#2749a3; color:#fff; border:none; padding:12px; font-weight:bold; border-radius:10px; cursor:pointer;"Â 
Â  Â  Â  Â  Â  Â  Â  Â  onclick="fetchYearlyReport()">
Â  Â  Â  Â  Â  Â  ğŸ“ˆ ç”¢è£½å¹´åº¦ç‡Ÿæ”¶å ±è¡¨
Â  Â  Â  Â  </button>
Â  Â  Â  Â  <button class="admin-tool-btn"Â 
Â  Â  Â  Â  Â  Â  Â  Â  style="width:100%; background-color:#d35400; color:#fff; border:none; padding:12px; font-weight:bold; border-radius:10px; cursor:pointer;"Â 
Â  Â  Â  Â  Â  Â  Â  Â  onclick="generateScheduleImage()">
Â  Â  Â  Â  Â  Â  ğŸ“¸ ä¸€éµç”Ÿæˆæœ¬æœˆ IG é™å‹•ç­è¡¨
Â  Â  Â  Â  </button>
Â  Â  </div>

Â  Â  <div class="admin-card">
Â  Â  Â  Â  <div id="admin-loading-overlay" class="local-loading-overlay">
Â  Â  Â  Â  Â  Â  <div class="spinner"></div>
Â  Â  Â  Â  Â  Â  <div class="loading-text">è³‡æ–™è®€å–ä¸­...</div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="admin-month-header">
Â  Â  Â  Â  Â  Â  <button class="month-btn" onclick="prevMonth()">â®</button>
Â  Â  Â  Â  Â  Â  <div class="month-title-group">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="admin-month-title" id="adminMonthYear"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="today-btn" onclick="resetToToday()">å›åˆ°ä»Šå¤©</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button class="month-btn" onclick="nextMonth()">â¯</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="admin-toolbar">
Â  Â  Â  Â  Â  Â  <button class="admin-tool-btn" onclick="toggleViewMode()" id="viewToggleBtn">ğŸ‘ï¸ åˆ‡æ›è©³ç´°æ¨¡å¼</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="admin-cal-grid" id="admin-cal-grid"></div>
Â  Â  </div>

Â  Â  <div id="day-detail" style="margin-top: 20px;">
Â  Â  Â  Â  <div class="detail-header">
Â  Â  Â  Â  Â  Â  <div class="date-title" id="admin-date-title"></div>
Â  Â  Â  Â  Â  Â  <span class="daily-revenue-box" id="daily-revenue-text">ğŸ’° è¨ˆç®—ä¸­...</span>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="order-list-container">
Â  Â  Â  Â  Â  Â  <div style="text-align:center; padding:30px; color:#999; display:flex; flex-direction:column; align-items:center;">
Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size:2rem; margin-bottom:10px;">ğŸ‘†</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-weight:bold;">è«‹é»é¸ä¸Šæ–¹æ—¥æœŸ</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size:0.9rem;">æŸ¥çœ‹é ç´„è©³æƒ…æˆ–è¨­å®šåº—ä¼‘</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="admin-time-management" style="display:none;" id="admin-mgmt-section">
Â  Â  Â  Â  Â  Â  <div class="admin-time-title" id="admin-time-mgmt-title">âš™ï¸ æ™‚æ®µé–‹æ”¾ç®¡ç†</div>
Â  Â  Â  Â  Â  Â  <div class="admin-time-grid" id="admin-time-switches"></div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="admin-big-btn-group" style="display:none;" id="admin-big-btns">
Â  Â  Â  Â  Â  Â  <button class="admin-big-btn btn-holiday-big" id="btn-set-holiday" onclick="toggleHoliday()">âŒ è¨­ç‚ºå…¨æ—¥åº—ä¼‘</button>
Â  Â  Â  Â  Â  Â  <button class="admin-big-btn btn-open-big" id="btn-open-holiday" style="display:none;" onclick="toggleHoliday()">âœ… æ¢å¾©å…¨æ—¥é–‹æ”¾</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>

Â  Â  <script>
Â  Â  Â  Â  // ğŸ”¥ V69.0: ID Po6w (ç¢ºèª)
Â  Â  Â  Â  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyMkzyDQMWOJ28pzIcS_NuJWVqGGemq2_hjca5P5NOE5NTLzJxX5u7SSV8hcfWcpZPhAg/exec";Â 

Â  Â  Â  Â  let currentDate = new Date();
Â  Â  Â  Â  let selectedDate = null;
Â  Â  Â  Â  let selectedTime = null;
Â  Â  Â  Â  let allOrders = [];Â 
Â  Â  Â  Â  let holidays = [];
Â  Â  Â  Â  let lockedSlots = [];
Â  Â  Â  Â  const timeSlots = ['10:00', '12:00', '14:00', '15:40', '17:10', '19:30', '21:10'];
Â  Â  Â  Â  const dayNames = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
Â  Â  Â  Â  const chnNumChar = ["é›¶","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹","å","åä¸€","åäºŒ"];

Â  Â  Â  Â  window.onload = function() {
Â  Â  Â  Â  Â  Â  const frontGrid = document.querySelector('.calendar-grid');
Â  Â  Â  Â  Â  Â  if(frontGrid) frontGrid.id = 'calendar-grid-front';
Â  Â  Â  Â  Â  Â  updateCalendars();Â 
Â  Â  Â  Â  Â  Â  checkLoginState();
Â  Â  Â  Â  Â  Â  fetchOrders();
Â  Â  Â  Â  };

Â  Â  Â  Â  function formatPhone(val) {
Â  Â  Â  Â  Â  Â  val = val.replace(/\D/g, '');Â 
Â  Â  Â  Â  Â  Â  if(val.length > 10) val = val.slice(0, 10);
Â  Â  Â  Â  Â  Â  if(val.length > 7) { return val.slice(0,4) + '-' + val.slice(4,7) + '-' + val.slice(7); }Â 
Â  Â  Â  Â  Â  Â  else if(val.length > 4) { return val.slice(0,4) + '-' + val.slice(4); }
Â  Â  Â  Â  Â  Â  return val;
Â  Â  Â  Â  }

Â  Â  Â  Â  function checkLoginState() {
Â  Â  Â  Â  Â  Â  if(sessionStorage.getItem('isAdmin') === 'true') {
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('admin-panel').style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  document.body.style.overflow = 'hidden';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function fetchOrders() {
Â  Â  Â  Â  Â  Â  // âœ¨âœ¨âœ¨ é¡¯ç¤ºå‰å°å’Œå¾Œå°çš„å±€éƒ¨é®ç½© âœ¨âœ¨âœ¨
Â  Â  Â  Â  Â  Â  const frontLoader = document.getElementById('front-loading-overlay');
Â  Â  Â  Â  Â  Â  const adminLoader = document.getElementById('admin-loading-overlay');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if(frontLoader) frontLoader.style.display = 'flex';
Â  Â  Â  Â  Â  Â  if(adminLoader) adminLoader.style.display = 'flex';

Â  Â  Â  Â  Â  Â  fetch(SCRIPT_URL)
Â  Â  Â  Â  Â  Â  .then(res => res.json())
Â  Â  Â  Â  Â  Â  .then(data => {
Â  Â  Â  Â  Â  Â  Â  Â  const normalizeDate = (d) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(!d) return "";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let str = String(d);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(str.includes('T')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let dateObj = new Date(str);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(!isNaN(dateObj.getTime())) return (dateObj.getMonth()+1) + "/" + dateObj.getDate();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  str = str.replace(/-/g, '/');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let parts = str.split('/');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(parts.length >= 2) return parseInt(parts[parts.length-2]) + "/" + parseInt(parts[parts.length-1]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return str;
Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const validData = data.filter(o => o.date && o.date !== "");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allOrders = validData.filter(o => o.status !== 'holiday' && o.status !== 'locked' && o.status !== 'delete').map(o => ({...o, date: normalizeDate(o.date)}));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  holidays = validData.filter(o => o.status === 'holiday').map(o => normalizeDate(o.date));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const manualLocks = validData.filter(o => o.status === 'locked').map(o => ({...o, date: normalizeDate(o.date)}));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lockedSlots = [...allOrders, ...manualLocks];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateDashboard();Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateCalendars();Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(selectedDate) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(holidays.includes(selectedDate)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â const container = document.getElementById('time-grid');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â if(container) container.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:20px; color:#d63031; font-weight:bold; background:#fff0f0; border-radius:10px;">â›” æœ¬æ—¥åº—ä¼‘ï¼Œæš«åœæœå‹™</div>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  renderTimeSlots(selectedDate);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const adminTimeContainer = document.getElementById('admin-time-switches');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(adminTimeContainer && adminTimeContainer.innerHTML !== "") renderAdminTimeSwitches(selectedDate);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(document.getElementById('day-detail').style.display === 'block') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cell = document.querySelector('.admin-cal-cell.selected');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(cell) showAdminDetail(parseInt(selectedDate.split('/')[1]), cell);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // âœ¨âœ¨âœ¨ éš±è—å‰å°å’Œå¾Œå°çš„å±€éƒ¨é®ç½© âœ¨âœ¨âœ¨
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(frontLoader) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  frontLoader.style.opacity = '0';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => { frontLoader.style.display = 'none'; frontLoader.style.opacity = '1'; }, 300);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(adminLoader) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  adminLoader.style.opacity = '0';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => { adminLoader.style.display = 'none'; adminLoader.style.opacity = '1'; }, 300);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  } catch(e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("è³‡æ–™è™•ç†éŒ¯èª¤", e);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(frontLoader) frontLoader.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(adminLoader) adminLoader.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  .catch(err => {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("è³‡æ–™è®€å–å¤±æ•—", err);
Â  Â  Â  Â  Â  Â  Â  Â  updateCalendars();Â 
Â  Â  Â  Â  Â  Â  Â  Â  if(frontLoader) frontLoader.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  if(adminLoader) adminLoader.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Swal.fire({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: 'error',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  title: 'é€£ç·šéŒ¯èª¤',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  text: 'ç„¡æ³•è®€å–é ç´„è³‡æ–™ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·š',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  confirmButtonColor: '#d33'
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateAdminDetailHeader(dateStr, dailyRevenue) {
Â  Â  Â  Â  Â  Â  Â const dailyCount = allOrders.filter(o => o.date === dateStr).length;
Â  Â  Â  Â  Â  Â  Â document.getElementById('admin-date-title').innerText = dateStr;
Â  Â  Â  Â  Â  Â  Â document.getElementById('daily-revenue-text').innerText = `ğŸ’° æœ¬æ—¥ç‡Ÿæ”¶: $${dailyRevenue.toLocaleString()}`;
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateCalendars() {
Â  Â  Â  Â  Â  Â  const y = currentDate.getFullYear();
Â  Â  Â  Â  Â  Â  const m = currentDate.getMonth();
Â  Â  Â  Â  Â  Â  const titleText = `${m + 1}æœˆ (${y})`;
Â  Â  Â  Â  Â  Â  const frontTitle = document.getElementById('currentMonthYear');
Â  Â  Â  Â  Â  Â  if(frontTitle) frontTitle.childNodes[0].nodeValue = titleText + " ";Â 
Â  Â  Â  Â  Â  Â  const adminTitle = document.getElementById('adminMonthYear');
Â  Â  Â  Â  Â  Â  if(adminTitle) adminTitle.innerText = titleText;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  renderCalendar(y, m, 'calendar-grid-front', false);
Â  Â  Â  Â  Â  Â  Â  Â  renderCalendar(y, m, 'admin-cal-grid', true);
Â  Â  Â  Â  Â  Â  } catch(e) { console.error("æœˆæ›†ç¹ªè£½éŒ¯èª¤", e); }
Â  Â  Â  Â  }

Â  Â  Â  Â  function renderCalendar(year, month, elementId, isAdmin) {
Â  Â  Â  Â  Â  Â  const container = document.getElementById(elementId);
Â  Â  Â  Â  Â  Â  if(!container) return;
Â  Â  Â  Â  Â  Â  container.innerHTML = "";
Â  Â  Â  Â  Â  Â  const headers = ['MON','TUE','WED','THU','FRI','SAT','SUN'];
Â  Â  Â  Â  Â  Â  headers.forEach(day => {
Â  Â  Â  Â  Â  Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  div.className = isAdmin ? 'admin-cal-head' : 'cal-header';
Â  Â  Â  Â  Â  Â  Â  Â  if(day === 'SAT' || day === 'SUN') div.style.color = '#ff4757';
Â  Â  Â  Â  Â  Â  Â  Â  div.innerText = day;
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(div);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  const firstDay = new Date(year, month, 1).getDay();
Â  Â  Â  Â  Â  Â  const daysInMonth = new Date(year, month + 1, 0).getDate();
Â  Â  Â  Â  Â  Â  let startSlot = (firstDay === 0) ? 6 : firstDay - 1;

Â  Â  Â  Â  Â  Â  for(let i=0; i<startSlot; i++) { const empty = document.createElement('div'); container.appendChild(empty); }

Â  Â  Â  Â  Â  Â  const today = new Date();
Â  Â  Â  Â  Â  Â  for(let i=1; i<=daysInMonth; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  const cell = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  cell.className = isAdmin ? 'admin-cal-cell' : 'calendar-day';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const dateStr = `${month+1}/${i}`;
Â  Â  Â  Â  Â  Â  Â  Â  const hasOrder = allOrders.some(o => o.date === dateStr);
Â  Â  Â  Â  Â  Â  Â  Â  const isHoliday = holidays.includes(dateStr);Â 
Â  Â  Â  Â  Â  Â  Â  Â  const checkDate = new Date(year, month, i);
Â  Â  Â  Â  Â  Â  Â  Â  const isPast = checkDate < new Date(today.setHours(0,0,0,0));
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const dayLockedCount = lockedSlots.filter(o => o.date === dateStr).length;
Â  Â  Â  Â  Â  Â  Â  Â  const isFull = dayLockedCount >= timeSlots.length;

Â  Â  Â  Â  Â  Â  Â  Â  if(year === today.getFullYear() && month === today.getMonth() && i === today.getDate()) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.add('today');
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if (isPast && !isAdmin) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.add('disabled');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.innerHTML = `${i}`;
Â  Â  Â  Â  Â  Â  Â  Â  } else if(isHoliday) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.add('holiday');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(isAdmin) { cell.innerHTML = `${i}<br><span style="font-size:0.6rem;">åº—ä¼‘</span>`; }Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.remove('disabled');Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.style.pointerEvents = "auto";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.innerHTML = `${i}<br><span>åº—ä¼‘</span>`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else if (isFull && !isAdmin) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.add('full');Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.innerHTML = `${i}<br><span>é¡æ»¿</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.style.pointerEvents = "none";
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.innerHTML = `${i}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(!isAdmin) cell.innerHTML += `<br><span>å¯ç´„</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if(isAdmin && hasOrder) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.innerHTML += `<div class="dot active"></div>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dailyOrders = allOrders.filter(o => o.date === dateStr);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // âœ¨âœ¨âœ¨ é—œéµä¿®æ”¹ï¼šå¾Œå°è©³ç´°æ¨¡å¼åªé¡¯ç¤ºã€Œæ™‚é–“ã€ï¼Œä¸é¡¯ç¤ºã€Œåå­—ã€ âœ¨âœ¨âœ¨
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dailyOrders.forEach(o => { cell.innerHTML += `<div class="event-text">${o.time}</div>`; });
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  if(isAdmin) { cell.onclick = function() { showAdminDetail(i, this); }; }Â 
Â  Â  Â  Â  Â  Â  Â  Â  else {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(!isPast) cell.onclick = function() { selectDate(i, this); };Â 
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(cell);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function prevMonth() {Â 
Â  Â  Â  Â  currentDate.setMonth(currentDate.getMonth() - 1);Â 
Â  Â  Â  Â  updateCalendars();Â 
Â  Â  Â  Â  // ğŸ”¥ å¦‚æœæ˜¯åœ¨å¾Œå°ç®¡ç†ç‹€æ…‹ï¼Œå°±åŒæ­¥æ›´æ–°ä¸Šæ–¹çš„ä»Šæ—¥é ç´„èˆ‡æœˆç‡Ÿæ”¶
Â  Â  Â  Â  if(sessionStorage.getItem('isAdmin') === 'true') updateDashboard();Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function nextMonth() {Â 
Â  Â  Â  Â  currentDate.setMonth(currentDate.getMonth() + 1);Â 
Â  Â  Â  Â  updateCalendars();Â 
Â  Â  Â  Â  if(sessionStorage.getItem('isAdmin') === 'true') updateDashboard();Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function resetToToday() {Â 
Â  Â  Â  Â  currentDate = new Date();Â 
Â  Â  Â  Â  updateCalendars();Â 
Â  Â  Â  Â  if(sessionStorage.getItem('isAdmin') === 'true') updateDashboard();Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  function selectDate(day, element) {
Â  Â  Â  Â  Â  Â  selectedDate = `${currentDate.getMonth()+1}/${day}`;
Â  Â  Â  Â  Â  Â  let days = document.querySelectorAll('.calendar-day');
Â  Â  Â  Â  Â  Â  days.forEach(d => d.classList.remove('active'));
Â  Â  Â  Â  Â  Â  element.classList.add('active');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const dateDisplay = document.getElementById('selected-date-display');
Â  Â  Â  Â  Â  Â  if(dateDisplay) dateDisplay.innerText = `${currentDate.getMonth()+1}æœˆ${day}æ—¥`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if(holidays.includes(selectedDate)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â const container = document.getElementById('time-grid');
Â  Â  Â  Â  Â  Â  Â  Â  Â container.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:20px; color:#d63031; font-weight:bold; background:#fff0f0; border-radius:10px;">â›” æœ¬æ—¥åº—ä¼‘ï¼Œæš«åœæœå‹™</div>`;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  renderTimeSlots(selectedDate);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function renderTimeSlots(date) {
Â  Â  Â  Â  Â  Â  const container = document.getElementById('time-grid');
Â  Â  Â  Â  Â  Â  if(!container) return;
Â  Â  Â  Â  Â  Â  container.innerHTML = "";
Â  Â  Â  Â  Â  Â  timeSlots.forEach(time => {
Â  Â  Â  Â  Â  Â  Â  Â  const btn = document.createElement('button');
Â  Â  Â  Â  Â  Â  Â  Â  btn.className = 'time-btn';
Â  Â  Â  Â  Â  Â  Â  Â  btn.innerText = time;
Â  Â  Â  Â  Â  Â  Â  Â  const isLocked = lockedSlots.some(o => o.date === date && o.time === time);
Â  Â  Â  Â  Â  Â  Â  Â  if(isLocked) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  btn.classList.add('disabled');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  btn.innerText += " (å·²æ»¿)";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  btn.disabled = true;
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  btn.onclick = function() { openBookingForm(time, this); };
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(btn);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function openBookingForm(time, btnElement) {
Â  Â  Â  Â  Â  Â  if(!selectedDate) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Swal.fire({ icon: 'warning', title: 'è«‹å…ˆé¸æ“‡æ—¥æœŸ', text: 'é»æ“Šä¸Šæ–¹æ—¥æ›†é¸æ“‡æ‚¨æƒ³é ç´„çš„æ—¥æœŸ', confirmButtonColor: '#efb748' });
Â  Â  Â  Â  Â  Â  Â  Â  return;Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  selectedTime = time;
Â  Â  Â  Â  Â  Â  let btns = document.querySelectorAll('.time-btn');
Â  Â  Â  Â  Â  Â  btns.forEach(b => b.classList.remove('selected'));
Â  Â  Â  Â  Â  Â  if(btnElement) btnElement.classList.add('selected');
Â  Â  Â  Â  Â  Â  document.getElementById('booking-modal-overlay').style.display = 'flex';
Â  Â  Â  Â  Â  Â  document.getElementById('booking-info-text').innerText = `æ‚¨é¸æ“‡çš„æ™‚æ®µï¼š${selectedDate} ${time}`;
Â  Â  Â  Â  }

Â  Â  Â  Â  function closeBookingForm() { document.getElementById('booking-modal-overlay').style.display = 'none'; }

Â  Â  Â  Â  function confirmBooking() {
Â  Â  Â  Â  Â  Â  const name = document.getElementById('booking-name').value;
Â  Â  Â  Â  Â  Â  const phone = document.getElementById('booking-phone').value.trim();
Â  Â  Â  Â  Â  Â  const lineId = document.getElementById('booking-line').value;
Â  Â  Â  Â  Â  Â  const service = document.getElementById('booking-service').value;

Â  Â  Â  Â  Â  Â  if(!name || !phone) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Swal.fire({ icon: 'warning', title: 'è³‡æ–™æœªå¡«', text: 'è«‹å‹™å¿…å¡«å¯«å§“åå’Œé›»è©±å–”ï¼', confirmButtonColor: '#efb748' });
Â  Â  Â  Â  Â  Â  Â  Â  return;Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const cleanPhone = phone.replace(/-/g, "");
Â  Â  Â  Â  Â  Â  if (!/^09\d{8}$/.test(cleanPhone)) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Swal.fire({ icon: 'error', title: 'æ ¼å¼éŒ¯èª¤', text: 'è«‹è¼¸å…¥ 09 é–‹é ­çš„ 10 ç¢¼æ‰‹æ©Ÿè™Ÿç¢¼', confirmButtonColor: '#d33' });
Â  Â  Â  Â  Â  Â  Â  Â  return;Â 
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const btn = document.getElementById('confirm-btn');
Â  Â  Â  Â  Â  Â  btn.innerText = "è™•ç†ä¸­..."; btn.disabled = true;

Â  Â  Â  Â  Â  Â  let amount = "0";
Â  Â  Â  Â  Â  Â  const match = service.match(/\$(\d+,?\d*)/);
Â  Â  Â  Â  Â  Â  if(match) amount = match[1].replace(',', '');
Â  Â  Â  Â  Â  Â  if(service.includes("åŒ…å ‚")) amount = "åŒ…å ‚æ‰£1";

Â  Â  Â  Â  Â  Â  const data = { action: "order", date: selectedDate, time: selectedTime, name, phone, lineId, service, amount };

Â  Â  Â  Â  Â  Â  fetch(SCRIPT_URL, {
Â  Â  Â  Â  Â  Â  Â  Â  method: "POST", body: JSON.stringify(data), mode: "no-cors", headers: { "Content-Type": "text/plain" }
Â  Â  Â  Â  Â  Â  }).then(() => {
Â  Â  Â  Â  Â  Â  Â  Â  closeBookingForm();
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Swal.fire({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  title: 'âœ… é ç´„æˆåŠŸï¼',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html: `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>æˆ‘å€‘å·²æ”¶åˆ°æ‚¨çš„é ç´„ï¼š<br><strong>${selectedDate} ${selectedTime}</strong></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-size:0.9rem; color:#666;">è¨˜å¾—æº–æ™‚å‰å¾€å·¥ä½œå®¤æ”¾é¬†èº«å¿ƒï¼</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon: 'success',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  confirmButtonText: 'å¥½çš„',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  confirmButtonColor: '#efb748',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showCancelButton: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cancelButtonText: 'ğŸ“… åŠ å…¥ Google è¡Œäº‹æ›†',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cancelButtonColor: '#333'
Â  Â  Â  Â  Â  Â  Â  Â  }).then((result) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (result.dismiss === Swal.DismissReason.cancel) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  addToGoogleCalendar();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  lockedSlots.push({ date: selectedDate, time: selectedTime, status: 'booked' });
Â  Â  Â  Â  Â  Â  Â  Â  renderTimeSlots(selectedDate);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  btn.innerText = "ç¢ºèªé€å‡º"; btn.disabled = false;
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('booking-name').value = "";
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('booking-phone').value = "";
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('booking-line').value = "";
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(fetchOrders, 2000);Â 

Â  Â  Â  Â  Â  Â  }).catch(e => {
Â  Â  Â  Â  Â  Â  Â  Â  Swal.fire({ icon: 'error', title: 'é ç´„å¤±æ•—', text: 'ç™¼ç”ŸéŒ¯èª¤ï¼š' + e, confirmButtonColor: '#d33' });
Â  Â  Â  Â  Â  Â  Â  Â  btn.disabled = false;Â 
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function openAdmin() { document.getElementById('admin-login-overlay').style.display = 'flex'; // ğŸ”¥ åŠ é€™ä¸€è¡Œï¼šè®“å¯†ç¢¼æ¡†è‡ªå‹•é€²å…¥æº–å‚™æ‰“å­—çš„ç‹€æ…‹
Â  Â  setTimeout(() => {
Â  Â  Â  Â  document.getElementById('admin-password').focus();
Â  Â  }, 100);
}
Â  Â  Â  Â  function closeAdmin() { document.getElementById('admin-login-overlay').style.display = 'none'; }
Â  Â  Â  Â  function checkAdminLogin() {
Â  Â  const pwd = document.getElementById('admin-password').value;
Â  Â  if (!pwd) {
Â  Â  Â  Â  alert('è«‹è¼¸å…¥å¯†ç¢¼å–”ï¼');
Â  Â  Â  Â  return;
Â  Â  }

Â  Â  const loginBtn = document.querySelector('#admin-login-overlay .login-btn');
Â  Â  const originalText = loginBtn.innerText;
Â  Â Â 
Â  Â  loginBtn.innerText = "é©—è­‰ä¸­...";
Â  Â  loginBtn.disabled = true;

Â  Â  // ğŸ”¥ ä¿®æ”¹é»ï¼šç¢ºä¿ URL æ‹¼æ¥æ­£ç¢º
Â  Â  const fetchUrl = `${SCRIPT_URL}?action=check_pwd&pwd=${encodeURIComponent(pwd)}`;
Â  Â Â 
Â  Â  // ä½¿ç”¨é è¨­çš„ cors æ¨¡å¼ï¼Œé€™æ¨£æ‰èƒ½è®€å– JSON å›å‚³å€¼
Â  Â  fetch(fetchUrl)
Â  Â  .then(res => {
Â  Â  Â  Â  if (!res.ok) throw new Error('ç¶²è·¯å›æ‡‰ä¸æ­£ç¢º');
Â  Â  Â  Â  return res.json();
Â  Â  })
Â  Â  .then(data => {
Â  Â  Â  Â  if(data.auth === true) {
Â  Â  Â  Â  Â  Â  // âœ… æˆåŠŸé€²å…¥
Â  Â  Â  Â  Â  Â  document.getElementById('admin-login-overlay').style.display = 'none';
Â  Â  Â  Â  Â  Â  document.getElementById('admin-panel').style.display = 'block';
Â  Â  Â  Â  Â  Â  document.body.style.overflow = 'hidden';
Â  Â  Â  Â  Â  Â  sessionStorage.setItem('isAdmin', 'true');
Â  Â  Â  Â  Â  Â  fetchOrders();Â 
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  // âŒ å¯†ç¢¼ä¸å°
Â  Â  Â  Â  Â  Â  alert('å¯†ç¢¼éŒ¯èª¤ï¼è«‹é‡æ–°è¼¸å…¥ã€‚');
Â  Â  Â  Â  Â  Â  loginBtn.innerText = originalText;
Â  Â  Â  Â  Â  Â  loginBtn.disabled = false;
Â  Â  Â  Â  }
Â  Â  })
Â  Â  .catch(err => {
Â  Â  Â  Â  console.error('æª¢æŸ¥éŒ¯èª¤:', err);
Â  Â  Â  Â  // ğŸ’¡ å¦‚æœé€™è£¡å ±éŒ¯ï¼Œé€šå¸¸æ˜¯ SCRIPT_URL ç¶²å€ä¸å°
Â  Â  Â  Â  alert('é€£ç·šå¤±æ•—ï¼è«‹ç¢ºèª App Script ç¶²å€æ˜¯å¦æ­£ç¢ºã€‚');
Â  Â  Â  Â  loginBtn.innerText = originalText;
Â  Â  Â  Â  loginBtn.disabled = false;
Â  Â  });
}
Â  Â  Â  Â  function logoutAdmin() {
Â  Â  // 1. éš±è—å¾Œå°é¢æ¿ï¼Œæ¢å¾©èº«é«”æ²å‹•
Â  Â  document.getElementById('admin-panel').style.display = 'none';
Â  Â  document.body.style.overflow = 'auto';
Â  Â Â 
Â  Â  // 2. æ¸…ç©ºå¯†ç¢¼è¼¸å…¥æ¡†
Â  Â  document.getElementById('admin-password').value = '';
Â  Â Â 
Â  Â  // 3. ğŸ”¥ é—œéµï¼šé‡ç½®ç™»å…¥æŒ‰éˆ•ç‹€æ…‹
Â  Â  const loginBtn = document.querySelector('#admin-login-overlay .login-btn');
Â  Â  if (loginBtn) {
Â  Â  Â  Â  loginBtn.innerText = "ç™»å…¥"; // æ¢å¾©æ–‡å­—
Â  Â  Â  Â  loginBtn.disabled = false;Â  Â  // æ¢å¾©å¯é»æ“Šç‹€æ…‹
Â  Â  }

Â  Â  // 4. æ¸…é™¤ç™»å…¥ç‹€æ…‹
Â  Â  sessionStorage.removeItem('isAdmin');
}

Â  Â  Â  Â  function updateDashboard() {
Â  Â  // ğŸ”¥ é—œéµï¼šå¾ currentDate (ç›®å‰æœˆæ›†é¡¯ç¤ºçš„æ—¥æœŸ) æŠ“å–å¹´ä»½å’Œæœˆä»½
Â  Â  const viewYear = currentDate.getFullYear();
Â  Â  const viewMonth = currentDate.getMonth() + 1;
Â  Â Â 
Â  Â  // å–å¾—ã€Œä»Šå¤©ã€çš„æ—¥æœŸï¼Œç”¨ä¾†çµ±è¨ˆã€Œä»Šæ—¥é ç´„ã€
Â  Â  const now = new Date();
Â  Â  const todayStr = `${now.getMonth() + 1}/${now.getDate()}`;
Â  Â Â 
Â  Â  // 1. ä»Šæ—¥é ç´„äººæ•¸ (å§‹çµ‚ä¿æŒé¡¯ç¤ºã€Œä»Šå¤©ã€ï¼Œä¸éš¨æœˆæ›†ç¿»å‹•)
Â  Â  const todayCount = allOrders.filter(o => o.date === todayStr).length;
Â  Â  document.getElementById('today-count').innerText = todayCount;

Â  Â  // 2. å‹•æ…‹é ä¼°ç‡Ÿæ”¶ (ç²¾ç¢ºæ¯”å°æœˆä»½èˆ‡è·¨å¹´å¹´ä»½)
Â  Â  let total = 0;
Â  Â  allOrders.forEach(o => {Â 
Â  Â  Â  Â  if(o.status !== 'delete' && o.status !== 'locked') {
Â  Â  Â  Â  Â  Â  const [m, d] = o.date.split('/').map(Number);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ğŸ’¡ é‚è¼¯åˆ¤æ–·ï¼šå¦‚æœæ˜¯ 12 æœˆçœ‹æ˜å¹´ 1 æœˆï¼Œæœˆä»½æœƒç¬¦åˆ
Â  Â  Â  Â  Â  Â  // å› ç‚º App Script å›å‚³çš„ date åªæœ‰ MM/DDï¼Œ
Â  Â  Â  Â  Â  Â  // é€™è£¡æˆ‘å€‘ç°¡åŒ–åˆ¤æ–·ï¼šåªè¦æœˆä»½ç¬¦åˆç›®å‰æœˆæ›†é¡¯ç¤ºçš„æœˆä»½å°±åŠ ç¸½
Â  Â  Â  Â  Â  Â  if (m === viewMonth) {
Â  Â  Â  Â  Â  Â  Â  Â  const price = parseInt(o.amount);Â 
Â  Â  Â  Â  Â  Â  Â  Â  if(!isNaN(price)) total += price;Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  });

Â  Â  // 3. ğŸ”¥ è‡ªå‹•æ›´æ–°ä¸‹æ–¹çš„æ–‡å­—æ¨™ç±¤
Â  Â  const revenueLabel = document.querySelector('#month-revenue + .dash-label');
Â  Â  if (revenueLabel) {
Â  Â  Â  Â  revenueLabel.innerText = `${viewMonth}æœˆé ä¼°ç‡Ÿæ”¶`;
Â  Â  }
Â  Â Â 
Â  Â  document.getElementById('month-revenue').innerText = `$${total.toLocaleString()}`;
}
Â  Â  // ğŸ”¥ é€™è£¡å°±æ˜¯å®ƒçš„å®¶ï¼
async function fetchYearlyReport() {
Â  Â  const API_URL = SCRIPT_URL;Â 
Â  Â  Swal.fire({
Â  Â  Â  Â  title: 'æ·±åº¦æ•¸æ“šåˆ†æä¸­...',
Â  Â  Â  Â  html: 'æ­£åœ¨ç¢ºèªå·²ä»˜æ¬¾è³‡æ–™',
Â  Â  Â  Â  allowOutsideClick: false,
Â  Â  Â  Â  didOpen: () => { Swal.showLoading() },
Â  Â  Â  Â  target: document.getElementById('admin-panel')
Â  Â  });

Â  Â  try {
Â  Â  Â  Â  const response = await fetch(`${API_URL}?mode=report`);Â 
Â  Â  Â  Â  const allData = await response.json();
Â  Â  Â  Â  const now = new Date();
Â  Â  Â  Â  const currentYear = now.getFullYear();

Â  Â  Â  Â  let totalRevenue = 0;
Â  Â  Â  Â  let totalOrders = 0;
Â  Â  Â  Â  const monthlyStats = {}; // æ ¼å¼å°‡è®Šæˆ "2025/12æœˆ": 4600
Â  Â  Â  Â  const serviceStats = {};

Â  Â  Â  Â  allData.forEach(order => {
Â  Â  Â  Â  Â  Â  if (order.status === 'å·²ä»˜æ¬¾') {
Â  Â  Â  Â  Â  Â  Â  Â  const amount = parseFloat(order.amount || 0);
Â  Â  Â  Â  Â  Â  Â  Â  const [m, d] = order.date.split('/').map(Number);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // ğŸ’¡ åˆ¤æ–·å¹´ä»½é‚è¼¯ (ç°¡å–®åŒ–è™•ç†ï¼šè‹¥æœˆä»½æ¯”ç¾åœ¨å¤§å¾ˆå¤šï¼Œè¦–ç‚ºå»å¹´ï¼›è‹¥æœˆä»½æ¯”ç¾åœ¨å°å¾ˆå¤šï¼Œè¦–ç‚ºæ˜å¹´)
Â  Â  Â  Â  Â  Â  Â  Â  let year = currentYear;
Â  Â  Â  Â  Â  Â  Â  Â  if (now.getMonth() === 11 && m === 1) year = currentYear + 1; // 12æœˆçœ‹1æœˆ
Â  Â  Â  Â  Â  Â  Â  Â  if (now.getMonth() === 0 && m === 12) year = currentYear - 1; // 1æœˆçœ‹12æœˆ
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const yearMonthLabel = `${year}/${m}æœˆ`;

Â  Â  Â  Â  Â  Â  Â  Â  totalRevenue += amount;
Â  Â  Â  Â  Â  Â  Â  Â  totalOrders++;

Â  Â  Â  Â  Â  Â  Â  Â  monthlyStats[yearMonthLabel] = (monthlyStats[yearMonthLabel] || 0) + amount;
Â  Â  Â  Â  Â  Â  Â  Â  const service = (order.service || "æœªåˆ†é¡").split(' ')[0];
Â  Â  Â  Â  Â  Â  Â  Â  serviceStats[service] = (serviceStats[service] || 0) + 1;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  let reportHtml = `
Â  Â  Â  Â  Â  Â  <div style="text-align: left; font-size: 0.95rem; color: #333;">
Â  Â  Â  Â  Â  Â  Â  Â  <div style="background: #fdf6ec; padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; border: 1px solid #f5dab1;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size: 0.85rem; color: #9a6e3a; margin-bottom: 5px;">å¹´åº¦ç´¯ç©ç¸½ç‡Ÿæ”¶</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size: 2rem; font-weight: bold; color: #d35400;">$${totalRevenue.toLocaleString()}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="margin-top: 5px; color: #666; font-size: 0.9rem;">å…±æœå‹™ ${totalOrders} äººæ¬¡</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-weight: bold; color: #5e4b35; margin-bottom: 10px;">ç‡Ÿæ”¶è¶¨å‹¢ (æŒ‰å¹´æœˆæ’åº)ï¼š</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="max-height: 180px; overflow-y: auto; margin-bottom: 20px; background: #fff; padding: 10px; border-radius: 8px; border: 1px solid #eee;">
Â  Â  Â  Â  `;

Â  Â  Â  Â  // ğŸ”¥ æ’åºé‚è¼¯ï¼šæŒ‰å¹´ä»½ + æœˆä»½ æ’åº
Â  Â  Â  Â  const sortedLabels = Object.keys(monthlyStats).sort((a, b) => {
Â  Â  Â  Â  Â  Â  const [y1, m1] = a.replace('æœˆ','').split('/').map(Number);
Â  Â  Â  Â  Â  Â  const [y2, m2] = b.replace('æœˆ','').split('/').map(Number);
Â  Â  Â  Â  Â  Â  return y1 !== y2 ? y1 - y2 : m1 - m2;
Â  Â  Â  Â  });

Â  Â  Â  Â  sortedLabels.forEach(label => {
Â  Â  Â  Â  Â  Â  reportHtml += `
Â  Â  Â  Â  Â  Â  Â  Â  <div style="display:flex; justify-content:space-between; border-bottom:1px solid #f9f9f9; padding:8px 0;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="color:#666;">${label}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-weight:bold; color:#2c3e50;">$${monthlyStats[label].toLocaleString()}</span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  });

Â  Â  Â  Â  reportHtml += `</div><p style="font-weight: bold; color: #5e4b35; margin-bottom: 10px;">ç†±é–€æœå‹™åˆ†ä½ˆï¼š</p>`;
Â  Â  Â  Â  for (let s in serviceStats) {
Â  Â  Â  Â  Â  Â  const percent = Math.round((serviceStats[s] / totalOrders) * 100);
Â  Â  Â  Â  Â  Â  reportHtml += `
Â  Â  Â  Â  Â  Â  Â  Â  <div style="margin-bottom: 12px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="display:flex; justify-content:space-between; font-size:0.85rem; margin-bottom:4px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${s}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${serviceStats[s]} æ¬¡ (${percent}%)</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="width:100%; background:#ececec; height:10px; border-radius:5px; overflow:hidden;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div style="width:${percent}%; background: linear-gradient(90deg, #efb748, #d35400); height:100%;"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  }
Â  Â  Â  Â  reportHtml += `</div>`;

Â  Â  Â  Â  Swal.fire({
Â  Â  Â  Â  Â  Â  title: 'èººå¹³ç¶“ç‡Ÿåˆ†æå ±å‘Š',
Â  Â  Â  Â  Â  Â  html: reportHtml,
Â  Â  Â  Â  Â  Â  confirmButtonColor: '#5e4b35',
Â  Â  Â  Â  Â  Â  confirmButtonText: 'é—œé–‰',
Â  Â  Â  Â  Â  Â  target: document.getElementById('admin-panel')
Â  Â  Â  Â  });

Â  Â  } catch (err) {
Â  Â  Â  Â  console.error(err);
Â  Â  Â  Â  Swal.fire({ title: 'å ±è¡¨è®€å–å¤±æ•—', icon: 'error', target: document.getElementById('admin-panel') });
Â  Â  }
}
Â  Â  Â  Â Â 
Â  Â  Â  Â  function updateOrderStatus(date, time, name, currentStatus, elementId) {
Â  Â  Â  Â  Â  Â  let newStatus, actionText;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (currentStatus === 'delete') {
Â  Â  Â  Â  Â  Â  Â  Â  actionText = "å–æ¶ˆè¨‚å–®";
Â  Â  Â  Â  Â  Â  Â  Â  newStatus = 'delete';
Â  Â  Â  Â  Â  Â  } else if (currentStatus === 'å·²ä»˜æ¬¾') {
Â  Â  Â  Â  Â  Â  Â  Â  actionText = "å›å¾©ç‚ºæœªä»˜æ¬¾";
Â  Â  Â  Â  Â  Â  Â  Â  newStatus = 'æœªè™•ç†';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  actionText = "è¨­ç‚ºå·²ä»˜æ¬¾";
Â  Â  Â  Â  Â  Â  Â  Â  newStatus = 'å·²ä»˜æ¬¾';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if(!confirm(`ç¢ºå®šè¦${actionText}å—ï¼Ÿ`)) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  showToast("â³ è™•ç†ä¸­...");
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const orderIndex = allOrders.findIndex(o => o.date === date && o.time === time && o.name === name);
Â  Â  Â  Â  Â  Â  if(orderIndex > -1) {
Â  Â  Â  Â  Â  Â  Â  Â  if (newStatus === 'delete') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allOrders.splice(orderIndex, 1);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  allOrders[orderIndex].status = newStatus;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const orderCard = document.getElementById(elementId);
Â  Â  Â  Â  Â  Â  if (orderCard) {
Â  Â  Â  Â  Â  Â  Â  Â  if (newStatus === 'delete') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  orderCard.style.opacity = '0.5';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => orderCard.remove(), 500);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showAdminDetail(parseInt(date.split('/')[1]), null);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const data = { action: "update_status", date, time, name, newStatus };
Â  Â  Â  Â  Â  Â  fetch(SCRIPT_URL, {
Â  Â  Â  Â  Â  Â  Â  Â  method: "POST", body: JSON.stringify(data), mode: "no-cors", headers: { "Content-Type": "text/plain" }
Â  Â  Â  Â  Â  Â  }).then(() => {
Â  Â  Â  Â  Â  Â  Â  Â  showToast(`âœ… å·²${actionText}`);
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(fetchOrders, 1000);Â 
Â  Â  Â  Â  Â  Â  }).catch(e => alert("éŒ¯èª¤ï¼š" + e));
Â  Â  Â  Â  }

Â  Â  Â  Â  function showAdminDetail(day, element) {
Â  Â  Â  Â  Â  Â  if(element) {
Â  Â  Â  Â  Â  Â  Â  Â  document.querySelectorAll('.admin-cal-cell').forEach(c => c.classList.remove('selected'));
Â  Â  Â  Â  Â  Â  Â  Â  element.classList.add('selected');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  selectedDate = `${currentDate.getMonth()+1}/${day}`;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('admin-date-title').innerText = selectedDate;
Â  Â  Â  Â  Â  Â  document.getElementById('day-detail').style.display = 'block';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ğŸ”¥ V73 å„ªåŒ–ï¼šé¡¯ç¤ºç®¡ç†å€å¡Š
Â  Â  Â  Â  Â  Â  document.getElementById('admin-mgmt-section').style.display = 'block';
Â  Â  Â  Â  Â  Â  document.getElementById('admin-big-btns').style.display = 'flex';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const dailyOrders = allOrders.filter(o => o.date === selectedDate);
Â  Â  Â  Â  Â  Â  dailyOrders.sort((a, b) => a.time.localeCompare(b.time));

Â  Â  Â  Â  Â  Â  let dailyRevenue = 0;
Â  Â  Â  Â  Â  Â  dailyOrders.forEach(o => { if(o.status === 'å·²ä»˜æ¬¾') { const p = parseInt(o.amount); if(!isNaN(p)) dailyRevenue += p; }});
Â  Â  Â  Â  Â  Â  updateAdminDetailHeader(selectedDate, dailyRevenue);

Â  Â  Â  Â  Â  Â  const isHoliday = holidays.includes(selectedDate);
Â  Â  Â  Â  Â  Â  const btnHoliday = document.getElementById('btn-set-holiday');
Â  Â  Â  Â  Â  Â  const btnOpen = document.getElementById('btn-open-holiday');
Â  Â  Â  Â  Â  Â  if(isHoliday) { btnHoliday.style.display = 'none'; btnOpen.style.display = 'flex'; }Â 
Â  Â  Â  Â  Â  Â  else { btnHoliday.style.display = 'flex'; btnOpen.style.display = 'none'; }

Â  Â  Â  Â  Â  Â  const listContainer = document.getElementById('order-list-container');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if(dailyOrders.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  listContainer.innerHTML = `<p style="text-align:center; color:#999; padding:20px;">ä»Šæ—¥ç„¡é ç´„</p>`;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  let html = "";
Â  Â  Â  Â  Â  Â  Â  Â  dailyOrders.forEach((o, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const lineInfo = o.lineId ? `<br>LINE: ${o.lineId}` : "";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const [h, m] = o.time.split(':').map(Number);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const duration = o.service.includes('90') ? 90 : 60;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const endObj = new Date(0,0,0, h, m + duration);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const endTime = `${String(endObj.getHours()).padStart(2,'0')}:${String(endObj.getMinutes()).padStart(2,'0')}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const isPaid = o.status === 'å·²ä»˜æ¬¾';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const uniqueId = `order-${index}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const statusText = isPaid ? 'å·²ä»˜æ¬¾' : 'æœªä»˜æ¬¾';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const btnText = isPaid ? 'â†©ï¸ æ”¹å›æœªä»˜æ¬¾' : 'ğŸ’° è¨­ç‚ºå·²ä»˜æ¬¾';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html += `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="order-item" id="${uniqueId}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="order-header">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="order-time-badge">${o.time} - ${endTime}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="status-badge ${isPaid ? 'paid' : ''}">${statusText}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="info-row"><span class="info-label">å§“å</span><span class="info-value">${o.name}</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="info-row"><span class="info-label">é›»è©±</span><span class="info-value"><a href="tel:${o.phone}">${o.phone}</a></span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="info-row"><span class="info-label">LINE</span><span class="info-value">${lineInfo}</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="info-row"><span class="info-label">é …ç›®</span><span class="info-value" style="font-size:0.85rem;">${o.service}</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="info-row"><span class="info-label">é‡‘é¡</span><span class="info-value" style="color:#e67e22; font-weight:bold;">$${o.amount}</span></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="action-btns">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="status-btn btn-done ${isPaid ? 'undo' : ''}"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onclick="updateOrderStatus('${o.date}', '${o.time}', '${o.name}', '${isPaid ? 'å·²ä»˜æ¬¾' : 'æœªè™•ç†'}', '${uniqueId}')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${btnText}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="status-btn btn-cancel"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onclick="updateOrderStatus('${o.date}', '${o.time}', '${o.name}', 'delete', '${uniqueId}')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ—‘ï¸ å–æ¶ˆè¨‚å–®
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  listContainer.innerHTML = html;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  renderAdminTimeSwitches(selectedDate);
Â  Â  Â  Â  Â  Â  if(element) document.getElementById('day-detail').scrollIntoView({behavior: "smooth"});
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function renderAdminTimeSwitches(date) {
Â  Â  Â  Â  Â  Â  const container = document.getElementById('admin-time-switches');
Â  Â  Â  Â  Â  Â  container.innerHTML = "";
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const dateObj = new Date(new Date().getFullYear(), date.split('/')[0]-1, date.split('/')[1]);
Â  Â  Â  Â  Â  Â  const dayOfWeek = dayNames[dateObj.getDay()];
Â  Â  Â  Â  Â  Â  document.getElementById('admin-time-mgmt-title').innerText = `âš™ï¸ æ™‚æ®µé–‹æ”¾ç®¡ç†ï¼š${date} (${dayOfWeek})`;

Â  Â  Â  Â  Â  Â  timeSlots.forEach(time => {
Â  Â  Â  Â  Â  Â  Â  Â  const order = allOrders.find(o => o.date === date && o.time === time);
Â  Â  Â  Â  Â  Â  Â  Â  const isManualLocked = lockedSlots.some(o => o.date === date && o.time === time && o.status === 'locked');
Â  Â  Â  Â  Â  Â  Â  Â  const isBooked = !!order;Â 
Â  Â  Â  Â  Â  Â  Â  Â  let html = `<div class="time-switch" style="${isBooked ? 'background:#fff3cd' : ''}">${time} ${isBooked ? '(å®¢)' : ''}<input type="checkbox" class="switch-input" ${(isBooked || isManualLocked) ? '' : 'checked'} ${isBooked ? 'disabled' : ''} onchange="toggleTimeLock('${time}', this.checked)"></div>`;
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML += html;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function toggleTimeLock(time, isChecked) {
Â  Â  Â  Â  Â  Â  const actionText = isChecked ? "é–‹æ”¾" : "é–å®š";
Â  Â  Â  Â  Â  Â  showToast(`â³ æ­£åœ¨${actionText}æ™‚æ®µ...`);
Â  Â  Â  Â  Â  Â  const data = { action: "toggle_time_lock", date: selectedDate, time: time };
Â  Â  Â  Â  Â  Â  fetch(SCRIPT_URL, { method: "POST", body: JSON.stringify(data), mode: "no-cors", headers: { "Content-Type": "text/plain" } })
Â  Â  Â  Â  Â  Â  .then(() => { showToast(`âœ… æ™‚æ®µå·²${actionText}`); setTimeout(fetchOrders, 1000); })
Â  Â  Â  Â  Â  Â  .catch(e => alert("éŒ¯èª¤ï¼š" + e));
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function toggleHoliday() {
Â  Â  Â  Â  Â  Â  if(!selectedDate) return;
Â  Â  Â  Â  Â  Â  const dateStr = selectedDate;Â 
Â  Â  Â  Â  Â  Â  const isCurrentlyHoliday = holidays.includes(dateStr);
Â  Â  Â  Â  Â  Â  const actionText = isCurrentlyHoliday ? "æ¢å¾©é–‹æ”¾" : "è¨­ç‚ºåº—ä¼‘";
Â  Â  Â  Â  Â  Â  if(!confirm(`ç¢ºå®šè¦å°‡ ${dateStr} ${actionText} å—ï¼Ÿ`)) return;
Â  Â  Â  Â  Â  Â  showToast("â³ è™•ç†ä¸­...");
Â  Â  Â  Â  Â  Â  const data = { action: "toggle_holiday", date: dateStr };
Â  Â  Â  Â  Â  Â  fetch(SCRIPT_URL, { method: "POST", body: JSON.stringify(data), mode: "no-cors", headers: { "Content-Type": "text/plain" } })
Â  Â  Â  Â  Â  Â  .then(() => {
Â  Â  Â  Â  Â  Â  Â  Â  showToast(`âœ… ${dateStr} å·²${actionText}ï¼`);
Â  Â  Â  Â  Â  Â  Â  Â  if(isCurrentlyHoliday) { holidays = holidays.filter(d => d !== dateStr); } else { holidays.push(dateStr); }
Â  Â  Â  Â  Â  Â  Â  Â  updateCalendars();Â 
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(fetchOrders, 1000);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const cell = document.querySelector('.admin-cal-cell.selected');
Â  Â  Â  Â  Â  Â  Â  Â  if(cell) showAdminDetail(parseInt(dateStr.split('/')[1]), cell);
Â  Â  Â  Â  Â  Â  }).catch(e => alert("éŒ¯èª¤ï¼š" + e));
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function toggleViewMode() {
Â  Â  Â  Â  Â  Â  const grid = document.getElementById('admin-cal-grid');
Â  Â  Â  Â  Â  Â  const btn = document.getElementById('viewToggleBtn');
Â  Â  Â  Â  Â  Â  grid.classList.toggle('detail-mode');
Â  Â  Â  Â  Â  Â  if (grid.classList.contains('detail-mode')) { btn.innerText = "ğŸ‘ï¸ åˆ‡æ›ç°¡æ˜“æ¨¡å¼"; }Â 
Â  Â  Â  Â  Â  Â  else { btn.innerText = "ğŸ‘ï¸ åˆ‡æ›è©³ç´°æ¨¡å¼"; }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function showToast(msg) {
Â  Â  Â  Â  Â  Â  const toast = document.getElementById('toast-msg');
Â  Â  Â  Â  Â  Â  toast.innerText = msg;
Â  Â  Â  Â  Â  Â  toast.style.opacity = '1';
Â  Â  Â  Â  Â  Â  setTimeout(() => { toast.style.opacity = '0'; }, 2000);
Â  Â  Â  Â  }

Â  Â  Â  Â  function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }
Â  Â  Â  Â  function scrollToBottom() { window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' }); }
Â  Â  Â  Â Â 
Â  Â  Â  Â  var swiper = new Swiper(".mySwiper", { slidesPerView: 1, slidesPerGroup: 1, spaceBetween: 20, loop: true, breakpoints: { 768: { slidesPerView: 3, slidesPerGroup: 3, spaceBetween: 30 } }, pagination: { el: ".swiper-pagination", clickable: true }, navigation: { nextEl: ".my-next-btn", prevEl: ".my-prev-btn" }, autoplay: { delay: 4000, disableOnInteraction: false } });
Â  Â  Â  Â  var offerSwiper = new Swiper(".offerSwiper", {Â 
Â  Â  Â  Â  slidesPerView: 1,Â 
Â  Â  Â  Â  spaceBetween: 30,Â 
Â  Â  Â  Â  loop: true,Â 
Â  Â  Â  Â  autoplay: {Â 
Â  Â  Â  Â  delay: 3500, // 3.5ç§’è‡ªå‹•æ›ä¸€å¼µ
Â  Â  Â  Â  disableOnInteraction: falseÂ 
Â  Â  Â  Â  },Â 
Â  Â  Â  Â  pagination: { el: ".offerSwiper .swiper-pagination", clickable: true },Â 
Â  Â  Â  Â  navigation: { nextEl: ".offerSwiper .swiper-button-next", prevEl: ".offerSwiper .swiper-button-prev" }Â 
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  let isScrolling;
Â  Â  Â  Â  const floatBtns = document.querySelector('.floating-btn-container');
Â  Â  Â  Â  window.addEventListener('scroll', function() {
Â  Â  Â  Â  Â  Â  floatBtns.style.opacity = '1'; floatBtns.style.pointerEvents = 'auto';Â 
Â  Â  Â  Â  Â  Â  window.clearTimeout(isScrolling);
Â  Â  Â  Â  Â  Â  isScrolling = setTimeout(function() { floatBtns.style.opacity = '0.3'; }, 2000);Â 
Â  Â  Â  Â  }, false);
Â  Â  Â  Â Â 
Â  Â  Â  Â  let lastScrollTop = 0;
Â  Â  Â  Â  const header = document.querySelector('header');
Â  Â  Â  Â  window.addEventListener('scroll', function() {
Â  Â  Â  Â  Â  Â  let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
Â  Â  Â  Â  Â  Â  if (scrollTop > lastScrollTop && scrollTop > 50) { header.classList.add('nav-hidden'); } else { header.classList.remove('nav-hidden'); }
Â  Â  Â  Â  Â  Â  lastScrollTop = scrollTop;
Â  Â  Â  Â  });

Â  Â  Â  Â  function addToGoogleCalendar() {
Â  Â  Â  Â  Â  Â  let year = new Date().getFullYear();
Â  Â  Â  Â  Â  Â  let [month, day] = selectedDate.split('/');
Â  Â  Â  Â  Â  Â  let [hour, minute] = selectedTime.split(':');
Â  Â  Â  Â  Â  Â  let startStr = `${year}${month.padStart(2,'0')}${day.padStart(2,'0')}T${hour}${minute}00`;
Â  Â  Â  Â  Â  Â  let endStr = `${year}${month.padStart(2,'0')}${day.padStart(2,'0')}T${parseInt(hour)+1}${parseInt(minute)+30}00`;
Â  Â  Â  Â  Â  Â  let title = encodeURIComponent("ğŸ’† èººå¹³é‹å‹•æŒ‰æ‘© - æ”¾é¬†æ™‚é–“");
Â  Â  Â  Â  Â  Â  let details = encodeURIComponent("è¨˜å¾—ç©¿è‘—è¼•ä¾¿è¡£ç‰©å‰å¾€å–”ï¼\nåœ°é»ï¼šæ–°åŒ—å¸‚è˜†æ´²å€ä¸‰æ°‘è·¯128å··68è™Ÿ");
Â  Â  Â  Â  Â  Â  let location = encodeURIComponent("æ–°åŒ—å¸‚è˜†æ´²å€ä¸‰æ°‘è·¯128å··68è™Ÿ");
Â  Â  Â  Â  Â  Â  let url = `https://www.google.com/calendar/render?action=TEMPLATE&text=${title}&details=${details}&location=${location}&dates=${startStr}/${endStr}`;
Â  Â  Â  Â  Â  Â  window.open(url, '_blank');
Â  Â  Â  Â  }

Â  Â  Â  Â  // âœ¨ ç”¢ç”Ÿ IG é™å‹•ç­è¡¨çš„åŠŸèƒ½ (V84 çµ‚æ¥µç°¡åŒ–ç‰ˆ - ç›´æ¥é¡¯ç¤ºåœ¨è¢å¹•ä¸Š)
Â  Â  Â  Â  function generateScheduleImage() {
Â  Â  Â  Â  Â  Â  // é¡¯ç¤ºé®ç½©
Â  Â  Â  Â  Â  Â  const adminLoader = document.getElementById('admin-loading-overlay');
Â  Â  Â  Â  Â  Â  if(adminLoader) {
Â  Â  Â  Â  Â  Â  Â  Â  adminLoader.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  adminLoader.querySelector('.loading-text').innerText = "æ­£åœ¨ç¹ªè£½åœ–ç‰‡...";
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  showToast("ğŸ“¸ æ­£åœ¨åˆæˆ IG é™å‹•...");
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 1. æº–å‚™è³‡æ–™
Â  Â  Â  Â  Â  Â  const m = currentDate.getMonth();Â 
Â  Â  Â  Â  Â  Â  const y = currentDate.getFullYear();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const monthNamesEn = [
Â  Â  Â  Â  Â  Â  Â  Â  "JANUARY", "FEBRUARY", "MARCH", "APRIL", "MAY", "JUNE",
Â  Â  Â  Â  Â  Â  Â  Â  "JULY", "AUGUST", "SEPTEMBER", "OCTOBER", "NOVEMBER", "DECEMBER"
Â  Â  Â  Â  Â  Â  ];

Â  Â  Â  Â  Â  Â  // å¡«å…¥æ¨™é¡Œ
Â  Â  Â  Â  Â  Â  document.getElementById('ig-month-en').innerText = monthNamesEn[m];
Â  Â  Â  Â  Â  Â  document.getElementById('ig-year-sub').innerText = `${y} / ${String(m + 1).padStart(2, '0')}`;

Â  Â  Â  Â  Â  Â  // --- å¡«å¯«æ ¼å­é‚è¼¯ ---
Â  Â  Â  Â  Â  Â  const container = document.getElementById('ig-new-grid');
Â  Â  Â  Â  Â  Â  container.innerHTML = "";Â 

Â  Â  Â  Â  Â  Â  const firstDay = new Date(y, m, 1).getDay();
Â  Â  Â  Â  Â  Â  const daysInMonth = new Date(y, m + 1, 0).getDate();
Â  Â  Â  Â  Â  Â  let startSlot = (firstDay === 0) ? 6 : firstDay - 1;

Â  Â  Â  Â  Â  Â  for (let i = 0; i < startSlot; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML += `<div class="ig-cell-body"></div>`;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  for (let i = 1; i <= daysInMonth; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  const dateStr = `${m + 1}/${i}`;
Â  Â  Â  Â  Â  Â  Â  Â  const isHoliday = holidays.includes(dateStr);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  let html = `<div class="ig-cell-body">`;
Â  Â  Â  Â  Â  Â  Â  Â  html += `<span class="ig-date-num">${i}</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  if (isHoliday) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html += `<div class="ig-holiday-circle">ä¼‘</div>`;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  html += `</div>`;
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML += html;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 2. æ‹ç…§ä¸¦ç›´æ¥é¡¯ç¤º (æš´åŠ›ç ´è§£æ‰‹æ©Ÿé™åˆ¶)
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  const captureArea = document.getElementById("ig-story-container");
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  html2canvas(captureArea, { scale: 1, backgroundColor: null }).then(canvas => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // éš±è— Loading
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(adminLoader) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  adminLoader.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  adminLoader.querySelector('.loading-text').innerText = "è³‡æ–™è®€å–ä¸­...";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // å‰µå»ºä¸€å€‹å…¨è¢å¹•çš„é»‘è‰²è¦†è“‹å±¤
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const overlay = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.position = 'fixed';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.top = '0';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.left = '0';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.width = '100%';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.height = '100%';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.backgroundColor = 'rgba(0,0,0,0.9)';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.zIndex = '99999';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.flexDirection = 'column';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.alignItems = 'center';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.justifyContent = 'center';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.style.overflow = 'auto'; // å…è¨±æ²å‹•

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // æç¤ºæ–‡å­—
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const tip = document.createElement('p');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tip.innerText = "è«‹é•·æŒ‰åœ–ç‰‡ -> å„²å­˜åœ–ç‰‡";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tip.style.color = "#fff";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tip.style.marginBottom = "10px";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tip.style.fontSize = "1.2rem";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tip.style.fontWeight = "bold";

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // åœ–ç‰‡
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const img = document.createElement('img');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.src = canvas.toDataURL("image/png");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.style.maxWidth = "90%";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.style.maxHeight = "80vh";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.style.borderRadius = "10px";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.style.boxShadow = "0 0 20px rgba(0,0,0,0.5)";

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // é—œé–‰æŒ‰éˆ•
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const closeBtn = document.createElement('button');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.innerText = "é—œé–‰";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.style.marginTop = "20px";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.style.padding = "10px 30px";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.style.fontSize = "1.2rem";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.style.backgroundColor = "#efb748";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.style.border = "none";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.style.borderRadius = "30px";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.style.color = "#fff";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.style.fontWeight = "bold";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  closeBtn.onclick = function() { document.body.removeChild(overlay); };

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // çµ„è£
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.appendChild(tip);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.appendChild(img);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  overlay.appendChild(closeBtn);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.body.appendChild(overlay);

Â  Â  Â  Â  Â  Â  Â  Â  }).catch(err => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error(err);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("åœ–ç‰‡ç”Ÿæˆå¤±æ•—ï¼š" + err);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(adminLoader) adminLoader.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }, 500);Â 
Â  Â  Â  Â  }
function toggleMenu() {
Â  Â  if (window.innerWidth <= 768) {
Â  Â  Â  Â  const nav = document.getElementById('main-nav');
Â  Â  Â  Â  const btn = document.getElementById('menu-toggle-btn');
Â  Â  Â  Â  const header = document.getElementById('dynamic-header');
Â  Â  Â  Â Â 
Â  Â  Â  Â  nav.classList.toggle('active');
Â  Â  Â  Â  btn.classList.toggle('active');
Â  Â  Â  Â  header.classList.toggle('menu-open'); // åˆ‡æ›é€™å€‹ Class
Â  Â  Â  Â Â 
Â  Â  Â  Â  // é¸å–®é–‹å•Ÿæ™‚ç¦æ­¢èƒŒæ™¯æ²å‹•
Â  Â  Â  Â  document.body.style.overflow = nav.classList.contains('active') ? 'hidden' : 'auto';
Â  Â  }
}

function closeMenu() {
Â  Â  if (window.innerWidth <= 768) {
Â  Â  Â  Â  const nav = document.getElementById('main-nav');
Â  Â  Â  Â  const btn = document.getElementById('menu-toggle-btn');
Â  Â  Â  Â  const header = document.getElementById('dynamic-header');
Â  Â  Â  Â Â 
Â  Â  Â  Â  nav.classList.remove('active');
Â  Â  Â  Â  btn.classList.remove('active');
Â  Â  Â  Â  header.classList.remove('menu-open'); // ç§»é™¤é€™å€‹ Class
Â  Â  Â  Â  document.body.style.overflow = 'auto'; // æ¢å¾©æ²å‹•
Â  Â  }
}

// æ²å‹•è®Šè‰²ç›£è½
window.addEventListener('scroll', function() {
Â  Â  const header = document.getElementById('dynamic-header');
Â  Â  if (window.scrollY > 50) {
Â  Â  Â  Â  header.classList.add('scrolled');
Â  Â  } else {
Â  Â  Â  Â  header.classList.remove('scrolled');
Â  Â  }
});
Â  Â  Â  Â Â 
Â  Â  </script>
</body>
</html>
